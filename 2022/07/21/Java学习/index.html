

<!DOCTYPE html>
<html lang="zh-CN" data-default-color-scheme=dark>



<head>
  <meta charset="UTF-8">
  <meta name="baidu-site-verification" content="code-O81KxcQEvT" />
  <link rel="apple-touch-icon" sizes="76x76" href="/gallery/paw_img.jpg">
  <link rel="icon" href="/gallery/paw_img.jpg">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="description" content="title: Javaå­¦ä¹ 
date: 2021-1-20 18:05:07
toc: true
banner_img: /gallery/covers/cover1.jpg
index_img: /gallery/thumbnails/javathumb.png
comment: true
updated: 2023-03-05 20:15:17
categories: å­¦ä¹ 
sticky: 9">
  <meta name="author" content="PPLong">
  <meta name="keywords" content="">
  <!--æ·»åŠ ç™¾åº¦ç«™ç‚¹ç»Ÿè®¡-->
  <meta name="baidu-site-verification" content="code-O8Xoj3awJS" />
  <!-- è°·æ­Œç½‘å€å‰ç¼€ç«™ç‚¹ç»Ÿè®¡ http://www.pplong.top -->
  <meta name="google-site-verification" content="Mp6W6JCXOdt66_GIaboJrilKmC9VI0DOWE4W2d1PMRQ" />
  <meta name="description" content="title: Javaå­¦ä¹  date: 2021-1-20 18:05:07 toc: true banner_img: &#x2F;gallery&#x2F;covers&#x2F;cover1.jpg index_img: &#x2F;gallery&#x2F;thumbnails&#x2F;javathumb.png comment: true updated: 2023-03-05 20:15:17 categories: å­¦ä¹  sticky: 9">
<meta property="og:type" content="article">
<meta property="og:title" content="PPLongçš„åšå®¢">
<meta property="og:url" content="https://www.pplong.top/2022/07/21/Java%E5%AD%A6%E4%B9%A0/index.html">
<meta property="og:site_name" content="PPLongçš„åšå®¢">
<meta property="og:description" content="title: Javaå­¦ä¹  date: 2021-1-20 18:05:07 toc: true banner_img: &#x2F;gallery&#x2F;covers&#x2F;cover1.jpg index_img: &#x2F;gallery&#x2F;thumbnails&#x2F;javathumb.png comment: true updated: 2023-03-05 20:15:17 categories: å­¦ä¹  sticky: 9">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s401177923-1302493622.cos.ap-nanjing.myqcloud.com/mdImages/image-20210228192712917.png">
<meta property="og:image" content="https://s401177923-1302493622.cos.ap-nanjing.myqcloud.com/mdImages/image-20230305170110555.png">
<meta property="og:image" content="https://s401177923-1302493622.cos.ap-nanjing.myqcloud.com/mdImages/image-20210428185332025.png">
<meta property="article:published_time" content="2022-07-21T14:45:34.000Z">
<meta property="article:modified_time" content="2023-03-05T12:15:17.679Z">
<meta property="article:author" content="PPLong">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://s401177923-1302493622.cos.ap-nanjing.myqcloud.com/mdImages/image-20210228192712917.png">
  
    <script charset="UTF-8" id="LA_COLLECT" src="//sdk.51.la/js-sdk-pro.min.js"></script> <script>LA.init({id: "Jf1FrphVHSZkysQl",ck: "Jf1FrphVHSZkysQl"})</script>
  
  <title>PPLongçš„åšå®¢</title>

  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/css/bootstrap.min.css" />


  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/github-markdown-css@4/github-markdown.min.css" />
  <link  rel="stylesheet" href="/lib/hint/hint.min.css" />

  
    
    
      
      
        
          
          
          
        
        <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1/themes/prism-tomorrow.min.css" />
      
      
    
  

  
    <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.css" />
  


<!-- ä¸»é¢˜ä¾èµ–çš„å›¾æ ‡åº“ï¼Œä¸è¦è‡ªè¡Œä¿®æ”¹ -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_ba1fz6golrf.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_kmeydafke9r.css">


<link  rel="stylesheet" href="/css/main.css" />

<!-- è‡ªå®šä¹‰æ ·å¼ä¿æŒåœ¨æœ€åº•éƒ¨ -->

  
<link rel="stylesheet" href="/css/indexing-hover.css">
<link rel="stylesheet" href="//at.alicdn.com/t/font_3317616_gaxkom6hjqm.css">



  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    var CONFIG = {"hostname":"www.pplong.top","root":"/","version":"1.8.14","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"right","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"copy_btn":true,"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":4},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":"9MuBWVsFJbGBbwW0dLf4PCir-MdYXbMMI","app_key":"ufhGMao9OY41YN3la9fN7NI0","server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  <header style="height: 90vh;">
    <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>PPLongçš„åšå®¢</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                é¦–é¡µ
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                å½’æ¡£
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                åˆ†ç±»
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                æ ‡ç­¾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                å…³äº
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                å‹é”
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item dropdown">
              <a class="nav-link dropdown-toggle" target="_self" href="javascript:;" role="button"
                 data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                <i class="iconfont icon-link-fill"></i>
                å¨±ä¹
              </a>
              <div class="dropdown-menu" aria-labelledby="navbarDropdown">
                
                  
                  
                  
                  <a class="dropdown-item" href="/movie/">
                    <i class="iconfont icon-movie"></i>
                    ç¬¬äºŒäººç”Ÿ
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/shuoshuo/">
                    <i class="iconfont icon-comment"></i>
                    å” å” 
                  </a>
                
                  
                  
                  
                  <a class="dropdown-item" href="/develop/">
                    <i class="iconfont icon-codepen-fill"></i>
                    å°é²œ
                  </a>
                
              </div>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

    <div class="banner" id="banner" parallax=true
         style="background: url('/gallery/covers/wallhaven-qde5kr.jpg') no-repeat center center;
           background-size: cover;">
      <div class="full-bg-img">
        <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
          <div class="page-header text-center fade-in-up">
            <span class="h2" id="subtitle" title="">
              
            </span>

            
              <div class="mt-3">
    
            
                <span class="post-meta">
      <i class="iconfont icon-date-fill" aria-hidden="true"></i>
      <time datetime="2022-07-21 22:45" pubdate>
        å§‹äº: 2022å¹´7æœˆ21æ—¥æ™šä¸Š10ç‚¹45åˆ†
      </time>
    </span>
                
</div>

<!-- è‡ªå®šä¹‰çš„æ›´æ–°æ—¶é—´ -->
<div class="mt-1">
    
        <span class="post-meta">
  <i class="iconfont icon-clipcheck" aria-hidden="true"></i>
  <time datetime="2023-03-05 20:15" pubdate>
    æ›´æ–°: 2023å¹´3æœˆ5æ—¥æ™šä¸Š8ç‚¹15åˆ†
  </time>
</span>
        
</div>

<div class="mt-1">
    
        <span class="post-meta mr-2">
      <i class="iconfont icon-chart"></i>
      15k å­—
    </span>
        

            
                <span class="post-meta mr-2">
      <i class="iconfont icon-clock-fill"></i>
      
      
      46 åˆ†é’Ÿ
    </span>
                

                    
                        
                            
                                <!-- LeanCloud ç»Ÿè®¡æ–‡ç« PV -->
                                <span id="leancloud-page-views-container" class="post-meta" style="display: none">
        <i class="iconfont icon-eye" aria-hidden="true"></i>
        <span id="leancloud-page-views"></span>
                                 æ¬¡
                                    </span>
                                    
                                                
</div>
            
          </div>

          
            <div class="scroll-down-bar">
              <i class="iconfont icon-arrowdown"></i>
            </div>
          
        </div>
      </div>
    </div>
  </header>

  <main>
    
      

    <div class="container-fluid nopadding-x">
        <div class="row nomargin-x">
            <div class="d-none d-lg-block col-lg-2"></div>
            <div class="col-lg-8 nopadding-x-md">
                <div class="container nopadding-x-md" id="board-ctn">
                    <div class="py-5" id="board">
                        <article class="post-content mx-auto">
                            <!-- SEO header -->
                            <h1 style="display: none">
                                
                            </h1>
                            
                                    <div class="markdown-body">
                                        <p>title: Javaå­¦ä¹ <br>
date: 2021-1-20 18:05:07<br>
toc: true<br>
banner_img: /gallery/covers/cover1.jpg<br>
index_img: /gallery/thumbnails/javathumb.png<br>
comment: true<br>
updated: 2023-03-05 20:15:17<br>
categories: å­¦ä¹ <br>
sticky: 90<br>
tags:<br>
- Java<br>
- Study</p>
<h1>Java SE</h1>
<!--toc-->
<h2 id="é›†åˆ">é›†åˆ</h2>
<h3 id="ArrayList">ArrayList</h3>
<ul>
<li>å…è®¸æ·»åŠ å¤šä¸ªnullå€¼
<ul>
<li>å±æ€§ size æ˜¯æŒ‡ elementData ä¸­å®é™…æœ‰å¤šå°‘ä¸ªå…ƒç´ ï¼Œè€Œ elementData.length ä¸ºé›†åˆå®¹é‡</li>
<li>DEFAULTCAPACITY_EMPTY_ELEMENTDATAå’ŒEMPTY_ELEMENTDATAåŒºåˆ«ï¼š æ„é€ å‡½æ•° æ˜¯å¦æœ‰initialCapacity
<ul>
<li>ç¬¬ä¸€æ¬¡æ·»åŠ å…ƒç´ æ—¶æ‰©å®¹   é»˜è®¤åˆå§‹çš„é›†åˆå®¹é‡ 10</li>
</ul>
</li>
</ul>
</li>
<li>grow()ï¼š æ•°ç»„æ‰©å®¹ç­–ç•¥ï¼Œ1.5å€ä¸”ä¸æœ€å°å®¹é‡è¿›è¡Œæ¯”è¾ƒ</li>
<li>æ¯æ¬¡å¢åˆ éƒ½ä½¿modCountå¢åŠ  ï¼Œå¹¶ä¸”å¢åˆ ä¼šè¿›è¡ŒmodCountçš„æ£€æŸ¥ï¼Œä¾‹å¦‚åœ¨è¿­ä»£æ—¶è¿›è¡Œå¢åˆ æ“ä½œæ—¶ ä¼šæŠ¥é”™ï¼ŒIträ¸­çš„expectedModCountä¸modCountä¸ä¸€è‡´ï¼å› æ­¤ArrayListæ˜¯ä¸æ”¯æŒå¤šçº¿ç¨‹çš„</li>
</ul>
<p><span style='color:red;font-size:20px;'>é¢è¯•ï¼šä¼˜åŒ–æ•°ç»„Â </span></p>
<span id="more"></span>
<p>æ ‡è®°-æ¸…é™¤æ³•</p>
<h3 id="HashMap">HashMap</h3>
<p>å†…éƒ¨hashå‡½æ•°</p>
<p>putå‰è¦è¿›è¡Œå¯¹å†æ¬¡å¯¹hashcodeå†æ¬¡hashï¼Œä¹Ÿå°±æ˜¯é«˜16 å’Œä½ 16åšå¼‚æˆ–è¿ç®—ï¼š<strong>å¢å¤§æ•£åˆ—ç¨‹åº¦</strong>ã€‚é«˜ä½ç‰¹å¾ä¸å˜ï¼Œä½ä½ä¹Ÿå…·æœ‰é«˜ä½ç‰¹å¾ã€‚é¿å…å®¹é‡å°æ—¶keyçš„é«˜ä½ä¸å‚ä¸è¿ç®—é—®é¢˜</p>
<p>â€˜&gt;&gt;&gt;â€™æ— ç¬¦å·å³ç§»</p>
<p><strong>ä¸ºä»€ä¹ˆè¦é‡å†™equals å’Œhascodeæ–¹æ³•	ï¼ŒpuValæ–¹æ³•ä¸­æœ‰æåˆ°</strong></p>
<p>æ³¨æ„åŒºåˆ†Nodeçš„hash å’Œ keyçš„hashcode</p>
<p>åŸºæœ¬ç±»å‹çš„hashcodeæ–¹æ³•</p>
<p>è‡ªåŠ¨è£…ç®±  æœ€ç¡¬æ ¸çš„å±…ç„¶æ˜¯Integerçš„hashcodeæ–¹æ³•ï¼Œå±…ç„¶å°±è¿”å›çš„valueï¼ï¼</p>
<ul>
<li>
<p>ä¸ºä»€ä¹ˆè¦å³ç§»16ä½ï¼Ÿ</p>
<p>å‡å°‘ç¢°æ’ é™ä½hashå†²çª</p>
<p>JDK 1.8 put</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">final</span> <span class="token class-name">V</span> <span class="token function">putVal</span><span class="token punctuation">(</span><span class="token keyword">int</span> hash<span class="token punctuation">,</span> <span class="token class-name">K</span> key<span class="token punctuation">,</span> <span class="token class-name">V</span> value<span class="token punctuation">,</span> <span class="token keyword">boolean</span> onlyIfAbsent<span class="token punctuation">,</span>
                  <span class="token keyword">boolean</span> evict<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> tab<span class="token punctuation">;</span> <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> p<span class="token punctuation">;</span> <span class="token keyword">int</span> n<span class="token punctuation">,</span> i<span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>tab <span class="token operator">=</span> table<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token punctuation">(</span>n <span class="token operator">=</span> tab<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span>
           <span class="token comment">//é‡ç‚¹å…³æ³¨</span>
           n <span class="token operator">=</span> <span class="token punctuation">(</span>tab <span class="token operator">=</span> <span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>p <span class="token operator">=</span> tab<span class="token punctuation">[</span>i <span class="token operator">=</span> <span class="token punctuation">(</span>n <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&amp;</span> hash<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
           tab<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">newNode</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
           <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> e<span class="token punctuation">;</span> <span class="token class-name">K</span> k<span class="token punctuation">;</span>
           <span class="token comment">//é‡ç‚¹å…³æ³¨</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>p<span class="token punctuation">.</span>hash <span class="token operator">==</span> hash <span class="token operator">&amp;&amp;</span>
               <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">=</span> p<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> key <span class="token operator">||</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
               <span class="token comment">//è¿™å¥è¯å…è®¸äº†é…çš„é’¥åŒ™å¯ä»¥å¼€ç›¸åŒçš„é”</span>
               e <span class="token operator">=</span> p<span class="token punctuation">;</span>
           <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>p <span class="token keyword">instanceof</span> <span class="token class-name">TreeNode</span><span class="token punctuation">)</span>
               e <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">TreeNode</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">)</span>p<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">putTreeVal</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> tab<span class="token punctuation">,</span> hash<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
               <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> binCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">;</span> <span class="token operator">++</span>binCount<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                   <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e <span class="token operator">=</span> p<span class="token punctuation">.</span>next<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                       p<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token function">newNode</span><span class="token punctuation">(</span>hash<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                       <span class="token keyword">if</span> <span class="token punctuation">(</span>binCount <span class="token operator">>=</span> TREEIFY_THRESHOLD <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// -1 for 1st</span>
                           <span class="token function">treeifyBin</span><span class="token punctuation">(</span>tab<span class="token punctuation">,</span> hash<span class="token punctuation">)</span><span class="token punctuation">;</span>
                       <span class="token keyword">break</span><span class="token punctuation">;</span>
                   <span class="token punctuation">&#125;</span>
                   <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>hash <span class="token operator">==</span> hash <span class="token operator">&amp;&amp;</span>
                       <span class="token punctuation">(</span><span class="token punctuation">(</span>k <span class="token operator">=</span> e<span class="token punctuation">.</span>key<span class="token punctuation">)</span> <span class="token operator">==</span> key <span class="token operator">||</span> <span class="token punctuation">(</span>key <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> key<span class="token punctuation">.</span><span class="token function">equals</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
                       <span class="token keyword">break</span><span class="token punctuation">;</span>
                   p <span class="token operator">=</span> e<span class="token punctuation">;</span>
               <span class="token punctuation">&#125;</span>
           <span class="token punctuation">&#125;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// existing mapping for key</span>
               <span class="token class-name">V</span> oldValue <span class="token operator">=</span> e<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
               <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>onlyIfAbsent <span class="token operator">||</span> oldValue <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                   e<span class="token punctuation">.</span>value <span class="token operator">=</span> value<span class="token punctuation">;</span>
               <span class="token function">afterNodeAccess</span><span class="token punctuation">(</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
               <span class="token keyword">return</span> oldValue<span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span>
       <span class="token operator">++</span>modCount<span class="token punctuation">;</span>
       <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">++</span>size <span class="token operator">></span> threshold<span class="token punctuation">)</span>
           <span class="token function">resize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token function">afterNodeInsertion</span><span class="token punctuation">(</span>evict<span class="token punctuation">)</span><span class="token punctuation">;</span>
       <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
   <span class="token punctuation">&#125;</span></code></pre></div>
<p>resizeæ‰©å®¹æœºåˆ¶</p>
<p>JDK 1.6</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">void</span> <span class="token function">transfer</span><span class="token punctuation">(</span><span class="token class-name">Entry</span><span class="token punctuation">[</span><span class="token punctuation">]</span> newTable<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
       <span class="token class-name">Entry</span><span class="token punctuation">[</span><span class="token punctuation">]</span> src <span class="token operator">=</span> table<span class="token punctuation">;</span>
       <span class="token keyword">int</span> newCapacity <span class="token operator">=</span> newTable<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
       <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> src<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
           <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> e <span class="token operator">=</span> src<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">;</span>
           <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
               src<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
               <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
                   <span class="token class-name">Entry</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> next <span class="token operator">=</span> e<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
                   <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">indexFor</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>hash<span class="token punctuation">,</span> newCapacity<span class="token punctuation">)</span><span class="token punctuation">;</span>
                   e<span class="token punctuation">.</span>next <span class="token operator">=</span> newTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
                   newTable<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
                   e <span class="token operator">=</span> next<span class="token punctuation">;</span>
               <span class="token punctuation">&#125;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>e <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
           <span class="token punctuation">&#125;</span>
       <span class="token punctuation">&#125;</span>
   <span class="token punctuation">&#125;</span></code></pre></div>
<p>æ³¨æ„ &amp; oldCap  å’Œ &amp;oldCap-1 çš„åŒºåˆ«ï¼ï¼ï¼</p>
<p>æ³¨æ„è¿™é‡Œçš„ (e.hash &amp; oldCap) == 0</p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/u010425839/article/details/106620440?utm_medium=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-1.control&amp;dist_request_id=1328767.10456.16173490220630373&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2%7Edefault%7EBlogCommendFromBaidu%7Edefault-1.control">https://blog.csdn.net/u010425839/article/details/106620440?utm_medium=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-1.control&amp;dist_request_id=1328767.10456.16173490220630373&amp;depth_1-utm_source=distribute.pc_relevant.none-task-blog-2~default~BlogCommendFromBaidu~default-1.control</a></p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> oldTab <span class="token operator">=</span> table<span class="token punctuation">;</span>
<span class="token keyword">int</span> oldCap <span class="token operator">=</span> <span class="token punctuation">(</span>oldTab <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> oldTab<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token keyword">int</span> oldThr <span class="token operator">=</span> threshold<span class="token punctuation">;</span>
<span class="token keyword">int</span> newCap<span class="token punctuation">,</span> newThr <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>oldCap <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>oldCap <span class="token operator">>=</span> MAXIMUM_CAPACITY<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        threshold <span class="token operator">=</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">;</span>
        <span class="token keyword">return</span> oldTab<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>newCap <span class="token operator">=</span> oldCap <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> MAXIMUM_CAPACITY <span class="token operator">&amp;&amp;</span>
             oldCap <span class="token operator">>=</span> DEFAULT_INITIAL_CAPACITY<span class="token punctuation">)</span>
        newThr <span class="token operator">=</span> oldThr <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">;</span> <span class="token comment">// double threshold</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>oldThr <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token comment">// initial capacity was placed in threshold</span>
    newCap <span class="token operator">=</span> oldThr<span class="token punctuation">;</span>
<span class="token keyword">else</span> <span class="token punctuation">&#123;</span>               <span class="token comment">// zero initial threshold signifies using defaults</span>
    newCap <span class="token operator">=</span> DEFAULT_INITIAL_CAPACITY<span class="token punctuation">;</span>
    newThr <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">(</span>DEFAULT_LOAD_FACTOR <span class="token operator">*</span> DEFAULT_INITIAL_CAPACITY<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>newThr <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">float</span> ft <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>newCap <span class="token operator">*</span> loadFactor<span class="token punctuation">;</span>
    newThr <span class="token operator">=</span> <span class="token punctuation">(</span>newCap <span class="token operator">&lt;</span> MAXIMUM_CAPACITY <span class="token operator">&amp;&amp;</span> ft <span class="token operator">&lt;</span> <span class="token punctuation">(</span><span class="token keyword">float</span><span class="token punctuation">)</span>MAXIMUM_CAPACITY <span class="token operator">?</span>
              <span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span>ft <span class="token operator">:</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
threshold <span class="token operator">=</span> newThr<span class="token punctuation">;</span>
<span class="token annotation punctuation">@SuppressWarnings</span><span class="token punctuation">(</span><span class="token punctuation">&#123;</span><span class="token string">"rawtypes"</span><span class="token punctuation">,</span><span class="token string">"unchecked"</span><span class="token punctuation">&#125;</span><span class="token punctuation">)</span>
<span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> newTab <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token keyword">new</span> <span class="token class-name">Node</span><span class="token punctuation">[</span>newCap<span class="token punctuation">]</span><span class="token punctuation">;</span>
table <span class="token operator">=</span> newTab<span class="token punctuation">;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>oldTab <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator">&lt;</span> oldCap<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> e<span class="token punctuation">;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e <span class="token operator">=</span> oldTab<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            oldTab<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>e<span class="token punctuation">.</span>next <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                newTab<span class="token punctuation">[</span>e<span class="token punctuation">.</span>hash <span class="token operator">&amp;</span> <span class="token punctuation">(</span>newCap <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">=</span> e<span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>e <span class="token keyword">instanceof</span> <span class="token class-name">TreeNode</span><span class="token punctuation">)</span>
                <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token class-name">TreeNode</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span><span class="token punctuation">)</span>e<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> newTab<span class="token punctuation">,</span> j<span class="token punctuation">,</span> oldCap<span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token keyword">else</span> <span class="token punctuation">&#123;</span> <span class="token comment">// preserve order</span>
                <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> loHead <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> loTail <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> hiHead <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span> hiTail <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                <span class="token class-name">Node</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">K</span><span class="token punctuation">,</span><span class="token class-name">V</span><span class="token punctuation">></span></span> next<span class="token punctuation">;</span>
                <span class="token keyword">do</span> <span class="token punctuation">&#123;</span>
                    next <span class="token operator">=</span> e<span class="token punctuation">.</span>next<span class="token punctuation">;</span>
                    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e<span class="token punctuation">.</span>hash <span class="token operator">&amp;</span> oldCap<span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>loTail <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                            loHead <span class="token operator">=</span> e<span class="token punctuation">;</span>
                        <span class="token keyword">else</span>
                            loTail<span class="token punctuation">.</span>next <span class="token operator">=</span> e<span class="token punctuation">;</span>
                        loTail <span class="token operator">=</span> e<span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                    <span class="token keyword">else</span> <span class="token punctuation">&#123;</span>
                        <span class="token keyword">if</span> <span class="token punctuation">(</span>hiTail <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span>
                            hiHead <span class="token operator">=</span> e<span class="token punctuation">;</span>
                        <span class="token keyword">else</span>
                            hiTail<span class="token punctuation">.</span>next <span class="token operator">=</span> e<span class="token punctuation">;</span>
                        hiTail <span class="token operator">=</span> e<span class="token punctuation">;</span>
                    <span class="token punctuation">&#125;</span>
                <span class="token punctuation">&#125;</span> <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>e <span class="token operator">=</span> next<span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>loTail <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    loTail<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                    newTab<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> loHead<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
                <span class="token keyword">if</span> <span class="token punctuation">(</span>hiTail <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                    hiTail<span class="token punctuation">.</span>next <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
                    newTab<span class="token punctuation">[</span>j <span class="token operator">+</span> oldCap<span class="token punctuation">]</span> <span class="token operator">=</span> hiHead<span class="token punctuation">;</span>
                <span class="token punctuation">&#125;</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">return</span> newTab<span class="token punctuation">;</span></code></pre></div>
<p>é¦–å…ˆå°†é«˜16ä½æ— ç¬¦å·å³ç§»16ä½ä¸ä½åå…­ä½åšå¼‚æˆ–è¿ç®—ã€‚å¦‚æœä¸è¿™æ ·åšï¼Œè€Œæ˜¯ç›´æ¥åš&amp;è¿ç®—é‚£ä¹ˆé«˜åå…­ä½æ‰€ä»£è¡¨çš„éƒ¨åˆ†ç‰¹å¾å°±å¯èƒ½è¢«ä¸¢å¤± å°†é«˜åå…­ä½æ— ç¬¦å·å³ç§»ä¹‹åä¸ä½åå…­ä½åšå¼‚æˆ–è¿ç®—ä½¿å¾—é«˜åå…­ä½çš„ç‰¹å¾ä¸ä½åå…­ä½çš„ç‰¹å¾è¿›è¡Œäº†æ··åˆå¾—åˆ°çš„æ–°çš„æ•°å€¼ä¸­å°±é«˜ä½ä¸ä½ä½çš„ä¿¡æ¯éƒ½è¢«ä¿ç•™äº† ï¼Œè€Œåœ¨è¿™é‡Œé‡‡ç”¨å¼‚æˆ–è¿ç®—è€Œä¸é‡‡ç”¨&amp; ï¼Œ| è¿ç®—çš„åŸå› æ˜¯ å¼‚æˆ–è¿ç®—èƒ½æ›´å¥½çš„ä¿ç•™å„éƒ¨åˆ†çš„ç‰¹å¾ï¼Œå¦‚æœé‡‡ç”¨&amp;è¿ç®—è®¡ç®—å‡ºæ¥çš„å€¼ä¼šå‘1é æ‹¢ï¼Œé‡‡ç”¨|è¿ç®—è®¡ç®—å‡ºæ¥çš„å€¼ä¼šå‘0é æ‹¢</p>
</li>
<li>
<p>Node å•é“¾è¡¨ç»“æ„</p>
<p><img src="https://s401177923-1302493622.cos.ap-nanjing.myqcloud.com/mdImages/image-20210228192712917.png" srcset="/img/loading.gif" lazyload alt="image-20210228192712917"></p>
</li>
<li>
<p>æ‰©å®¹æœºåˆ¶</p>
</li>
<li>
<p>hashç¢°æ’</p>
</li>
</ul>
<p>å‘ç”Ÿhashç¢°æ’æ—¶ å½“å‰çš„å…ƒç´ ç”Ÿæˆæ–°çš„èŠ‚ç‚¹ä¿å­˜åœ¨é“¾è¡¨çš„å°¾éƒ¨</p>
<h4 id="HMçš„çº¿ç¨‹å®‰å…¨æ–¹å¼">HMçš„çº¿ç¨‹å®‰å…¨æ–¹å¼</h4>
<ul>
<li>Collections.synchronizedMapï¼ˆï¼‰è¿”å›ä¸€ä¸ªæ–°çš„Mapï¼šä½¿ç”¨synchronizedè¿›è¡Œäº’æ–¥ã€‚ä½¿ç”¨ä»£ç†newäº†ä¸€ä¸ªæ–°çš„ğŸ¥±ï¼Œç›´æ¥é”ä½æ–¹æ³•</li>
<li>ConccurentHashMapï¼šä½¿ç”¨æ–°çš„é”æœºåˆ¶ï¼Œå°†HMè¿›è¡Œæ‹†åˆ†ã€‚</li>
</ul>
<h4 id="HM-JDK1-8åæ‰©å®¹ä¸Šçš„ä¼˜åŒ–">HM JDK1.8åæ‰©å®¹ä¸Šçš„ä¼˜åŒ–</h4>
<ul>
<li>1.7ä¹‹å‰ï¼šé‡æ–°hashè®¡ç®—</li>
<li>1.8ï¼šåªæ¯”è¾ƒæ‰©å®¹åæœ€é«˜ä½, resizeæ—¶ç´¢å¼•å¢åŠ åˆ°oldSizeä½å³å¯</li>
</ul>
<h4 id="çº¿ç¨‹ä¸å®‰å…¨é€ æˆäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ">çº¿ç¨‹ä¸å®‰å…¨é€ æˆäº†ä»€ä¹ˆé—®é¢˜ï¼Ÿ</h4>
<p>äº§ç”Ÿç¯å½¢é“¾è¡¨</p>
<h3 id="LinkedHashMap">LinkedHashMap</h3>
<p><strong>ç»“æ„</strong></p>
<p>accessOrderæœ‰ä»€ä¹ˆç”¨ï¼Ÿ</p>
<p>transientå…³é”®å­—ä¸å¯è§ ï¼Ÿ</p>
<p><strong>å®ç°LRU</strong></p>
<p><strong>æ’å…¥åˆ é™¤åŸç†</strong></p>
<p><strong>hashmapç•™çš„åé—¨</strong></p>
<p>å“ªç§æƒ…å†µä¸‹getä¹Ÿä¼šä½¿å¾—é‡æ–°æ’åº</p>
<h3 id="ConcurrentHashMap-v2">ConcurrentHashMap</h3>
<p><strong>JDK1.8ä¸­ä»¥CASä¸synchronized é”å¤´èŠ‚ç‚¹æ–¹å¼å®ç°çº¿ç¨‹å®‰å…¨ï¼Œé”çš„ç²’åº¦æ›´ç»†</strong></p>
<p>ä¼˜å…ˆé€‰æ‹©-- æ€§èƒ½æ•ˆç‡æ›´é«˜</p>
<p>èƒ½è¯´è¯´ä»€ä¹ˆæ˜¯å¿«é€Ÿå¤±è´¥ä»€ä¹ˆæ˜¯å®‰å…¨å¤±è´¥å—ï¼Ÿ</p>
<p>å¿«é€Ÿå¤±è´¥  modCount ä¸èƒ½åœ¨å¤šçº¿ç¨‹ä¸‹å¹¶å‘ä¿®æ”¹</p>
<p>å®‰å…¨å¤±è´¥  concurrentåŒ…ä¸‹çš„å®¹å™¨éƒ½æ˜¯</p>
<h4 id="1-7ç‰ˆæœ¬">1.7ç‰ˆæœ¬</h4>
<h3 id="SynchronizedMap">SynchronizedMap</h3>
<p>æ’æ–¥æ‰€ Object mutex</p>
<p>å°±æ˜¯åŠ é”</p>
<h3 id="HashSet">HashSet</h3>
<p><strong>Hashsetåº•å±‚ç”±ä»€ä¹ˆå®ç°ï¼Ÿ</strong></p>
<p>hashmap</p>
<h3 id="PriorityQueue">PriorityQueue</h3>
<p>æ•°ç»„ç»„æˆï¼›modCountç¦æ­¢å¹¶å‘</p>
<p>åŸºäºå †çš„æ’åº</p>
<h2 id="Clone">Clone</h2>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">User</span> u1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">User</span><span class="token punctuation">(</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">User</span> u2 <span class="token operator">=</span> u1<span class="token punctuation">;</span><span class="token comment">//å°†u1çš„referenceç»™äº†u2</span>
u1 <span class="token operator">!=</span> u2</code></pre></div>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Obj</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Obj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Obj</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
obj<span class="token punctuation">.</span>stu <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Stu</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Obj</span> obj2 <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Obj</span><span class="token punctuation">)</span> obj<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj2<span class="token operator">==</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>obj2<span class="token punctuation">.</span>stu <span class="token operator">==</span> obj<span class="token punctuation">.</span>stu<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span></code></pre></div>
<p>æ­¤æ—¶æ“ä½œu2/u1 éƒ½ä¼šä½¿å¦ä¸€ä¸ªçš„å€¼å‘ç”Ÿæ”¹å˜</p>
<p>ä½†å¦‚æœæˆ‘ä»¬ä¸æƒ³æ”¹å˜å¦ä¸€ä¸ªçš„å€¼å°±éœ€è¦ä½¿ç”¨åˆ°clone</p>
<p>å®ç°Cloneableæ¥å£ //Cloneableæ¥å£æ²¡æœ‰å…·ä½“çš„å®ç°æ–¹æ³•ï¼Œä»–ç›¸å½“äºæ˜¯ä¸€ä¸ªæ ‡è¯†ï¼Œå¦‚æœç±»æ²¡æœ‰ç»§æ‰¿cloneableæ¥å£è€Œè°ƒç”¨cloneæ–¹æ³•ï¼Œä¼šæŠ›å‡º<strong>CloneNotSupportedExcepionå¼‚å¸¸</strong></p>
<h2 id="-v3"></h2>
<h3 id="æ·±æ‹·è´å’Œæµ…æ‹·è´">æ·±æ‹·è´å’Œæµ…æ‹·è´</h3>
<p>æµ…æ‹·è´</p>
<p>cloneæ— æ³•clone ä¸€ä¸ªå¯¹è±¡ä¸­çš„å¦ä¸€ä¸ªå¯¹è±¡ï¼Œè¿˜æ˜¯æ˜¯ä¸€ä¸ªreference</p>
<p>æ·±æ‹·è´</p>
<p>åœ¨å¯¹è±¡çš„å¯¹è±¡ä¸­å®ç°cloneableæ¥å£ï¼Œé‡å†™cloneæ–¹æ³•</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token annotation punctuation">@Override</span>
<span class="token keyword">protected</span> <span class="token class-name">Object</span> <span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">CloneNotSupportedException</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">Obj</span> obj <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Obj</span><span class="token punctuation">)</span> <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    obj<span class="token punctuation">.</span>stu <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">Stu</span><span class="token punctuation">)</span> stu<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
<h3 id="cloneçš„ä¿æŠ¤æœºåˆ¶">cloneçš„ä¿æŠ¤æœºåˆ¶</h3>
<p>objectç±»ä¸­æœ‰protected çš„nativeæ–¹æ³• cloneï¼Œä¸” Userè‚¯å®šæ˜¯ç»§æ‰¿äº†Objectï¼Œä¸ºä»€ä¹ˆ</p>
<p><span style='color:red;font-size:24px'>æœªå®ç°Cloneableæ¥å£çš„ç±»ä¸èƒ½è°ƒç”¨cloneæ–¹æ³•</span></p>
<h4 id="å»¶ä¼¸ï¼š-protectedçš„ä½œç”¨èŒƒå›´">å»¶ä¼¸ï¼š protectedçš„ä½œç”¨èŒƒå›´</h4>
<p>ä¸€ä¸ªpublic ç±»ï¼Œ æœ‰protectedçš„æ–¹æ³•ï¼Œ</p>
<p>å¦‚æœåœ¨åŒåŒ…ä¸‹æ–°å»ºç±»ç»§æ‰¿ä»–ï¼Œè¿™ä¸ªæ–°å»ºçš„ç±»å¯¹è±¡èƒ½å¤Ÿè°ƒç”¨protecTedçš„æ–¹æ³•</p>
<p>å¦‚æœåœ¨ä¸åŒåŒ…ä¸‹ æ–°å»ºä¸€ä¸ªç±» ç»§æ‰¿ä»–ï¼Œ åˆ›å»ºè¿™ä¸ªç±»çš„å¯¹è±¡ï¼Œä¸èƒ½è°ƒç”¨ cloneæ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥åœ¨è¿™ä¸ªç±»ä¸­é‡å†™protectedçš„æ–¹æ³•ï¼Œè¿™æ ·å°±èƒ½å¤Ÿè°ƒç”¨ã€‚</p>
<p><span style='color:#3CB371;font-size:24px'>è¿™å°±æ˜¯protectedçš„ æ´¾ç”Ÿç±»å¯¹åŒåŒ…å¯è§ï¼Œä¸åŒåŒ…ä¸å¯è§çš„åŸç†</span></p>
<p>protectedå—è®¿é—®ä¿æŠ¤è§„åˆ™æ˜¯å¾ˆå¾®å¦™çš„ã€‚è™½ç„¶protectedåŸŸå¯¹æ‰€æœ‰å­ç±»éƒ½å¯è§ã€‚ä½†æ˜¯æœ‰ä¸€ç‚¹å¾ˆé‡è¦ï¼Œå­ç±»åªèƒ½åœ¨è‡ªå·±çš„ä½œç”¨èŒƒå›´å†…è®¿é—®è‡ªå·±ç»§æ‰¿çš„é‚£ä¸ªçˆ¶ç±»protectedåŸŸï¼Œè€Œæ— æ³•åˆ°è®¿é—®åˆ«çš„å­ç±»ï¼ˆåŒçˆ¶ç±»çš„äº²å…„å¼Ÿï¼‰æ‰€ç»§æ‰¿çš„protectedåŸŸå’Œçˆ¶ç±»å¯¹è±¡çš„protectedåŸŸ</p>
<h2 id="å…³é”®å­—Final">å…³é”®å­—Final</h2>
<blockquote>
<p>å…³äºfinalçš„é—®é¢˜ï¼Œæ¨èé˜…è¯»ã€ŠJavaå¹¶å‘ç¼–ç¨‹çš„è‰ºæœ¯ã€‹â˜•</p>
</blockquote>
<p><strong>Finalä¿®é¥°ç±»æˆ–æ–¹æ³•</strong></p>
<p>ä¸€ä¸ªç±»è¢«finalå®šä¹‰æ—¶ï¼Œè¡¨ç¤ºè¯¥ç±»ä¸æ‰“ç®—è¢«ç»§æ‰¿ï¼Œfinalç±»ä¸­çš„ä»»ä½•æ–¹æ³•éƒ½éšå¼ä¸ºfinalï¼Œæ— æ³•è¦†ç›–ã€‚åœ¨å­—èŠ‚ç å±‚é¢ï¼Œfinalä¿®é¥°çš„æ™®é€šæ–¹æ³•ä¼šå¤šæœ‰ä¸€ä¸ªflag: <em>ACC_FINAL</em></p>
<p>æ³¨æ„ï¼š</p>
<ul>
<li>finalæ–¹æ³•å¯ä»¥è¢«é‡è½½ï¼Œä¸èƒ½è¢«é‡å†™</li>
<li>privateæ–¹æ³•æ˜¯éšå¼çš„final</li>
</ul>
<p><strong>Finalä¿®é¥°å¸¸é‡</strong></p>
<p>Finalçš„å»¶è¿Ÿå£°æ˜ï¼Œéœ€è¦æ³¨æ„çš„æ˜¯ï¼Œå¦‚æœå®ç°äº†blank finalä»¥åŠfinalçš„å»¶è¿Ÿèµ‹å€¼ï¼Œé‚£åœ¨å…¶æ‰€æœ‰çš„æ„é€ å™¨æ–¹æ³•ä¸­éƒ½è¦å®ç°finalå¸¸é‡çš„èµ‹å€¼</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">final</span> <span class="token keyword">int</span> x<span class="token punctuation">;</span>
<span class="token keyword">public</span> <span class="token class-name">Test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
  x <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
<blockquote>
<p><strong>æ‰€æœ‰è¢«finalä¿®é¥°çš„å­—æ®µéƒ½æ˜¯ç¼–è¯‘æœŸå¸¸é‡å—ï¼Ÿ</strong></p>
<p>å¹¶ä¸æ˜¯,æ¯”å¦‚ final int x = new Random().nextInt();å°±ä¸æ˜¯ç¼–è¯‘æœŸå¸¸é‡</p>
</blockquote>
<p><strong>static finalå­—æ®µè¡¨ç¤ºä»€ä¹ˆï¼Ÿ</strong></p>
<p>è¡¨ç¤ºå æ®ä¸€æ®µä¸èƒ½æ”¹å˜çš„å­˜å‚¨ç©ºé—´ï¼Œå¿…é¡»åœ¨å®šä¹‰çš„æ—¶å€™è¿›è¡Œèµ‹å€¼ï¼Œå¦åˆ™å°†ä¸é€šè¿‡ç¼–è¯‘ã€‚ä½†æ˜¯å®é™…èµ‹å€¼è¿‡ç¨‹å¯ä»¥åœ¨éç¼–è¯‘æœŸ</p>
<h3 id="åŸŸé‡æ’åºè§„åˆ™">åŸŸé‡æ’åºè§„åˆ™</h3>
<p>å…³äºé‡æ’åºçš„çŸ¥è¯†ï¼Œåœ¨*ã€ŠJVMå­¦ä¹ â€”JVMå†…å­˜æ¨¡å‹JMMã€‹*ç« èŠ‚ä¸­æœ‰è¯¦ç»†è®²åˆ°</p>
<p>å¤šçº¿ç¨‹ä¸‹</p>
<h4 id="å†™finalåŸŸé‡æ’åºè§„åˆ™-finalä¸ºåŸºæœ¬å˜é‡">å†™finalåŸŸé‡æ’åºè§„åˆ™(finalä¸ºåŸºæœ¬å˜é‡)</h4>
<p>ç¦æ­¢å¯¹finalåŸŸå¯¹å†™é‡æ’åºåˆ°æ„é€ å‡½æ•°ä¹‹å¤–ï¼Œç¼–è¯‘å™¨åœ¨finalåŸŸå†™ä¹‹åï¼Œæ„é€ å‡½æ•°returnä¹‹å‰ï¼Œä¼šæ’å…¥<strong>storestoreå±éšœ</strong>ï¼Œç¦æ­¢å¤„ç†å™¨æŠŠfinalåŸŸåˆ°å†™é‡æ’åºåˆ°æ„é€ å‡½æ•°ä¹‹å¤–,è€ƒè™‘ä»¥ä¸‹ä¸€ä¸ªåœºæ™¯ï¼š</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">class</span> <span class="token class-name">T</span><span class="token punctuation">&#123;</span>
  <span class="token keyword">int</span> a<span class="token punctuation">;</span>
  <span class="token keyword">final</span> <span class="token keyword">int</span> b<span class="token punctuation">;</span>
  <span class="token keyword">public</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      b<span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>
      a<span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

  <span class="token punctuation">&#125;</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">init</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      t <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">T</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
  <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token class-name">T</span> x<span class="token operator">=</span> t<span class="token punctuation">;</span>
      <span class="token keyword">int</span> a <span class="token operator">=</span> x<span class="token punctuation">.</span>a<span class="token punctuation">;</span>
      <span class="token keyword">int</span> b <span class="token operator">=</span> x<span class="token punctuation">.</span>b<span class="token punctuation">;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
<p>ä¸¤ä¸ªçº¿ç¨‹è¿›è¡Œæ“ä½œï¼Œå·²çŸ¥<strong>é‡æ’åºå¯èƒ½ä¼šæŠŠæ™®é€šå˜é‡é‡æ’åºåˆ°æ„é€ å‡½æ•°ä¹‹å</strong>ï¼ˆæœªéªŒè¯ï¼‰,å¦‚æœæ²¡æœ‰è¿›è¡ŒåŠ é”æ“ä½œï¼Œä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œinitæ–¹æ³•ï¼Œä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œreadæ–¹æ³•ï¼Œæ°å·§è¿™æ—¶å€™initçº¿ç¨‹åˆšåˆå§‹åŒ–äº†tå¯¹è±¡ï¼Œæ„é€ å‡½æ•°æ‰§è¡Œå®Œæ¯•å°†å¼•ç”¨èµ‹å€¼ç»™å˜é‡tï¼Œå¦ä¸€ä¸ªçº¿ç¨‹æ‹¿åˆ°å¼•ç”¨åœ°å€ï¼Œè¯»å–æ™®é€šå˜é‡ï¼Œè¿™æ—¶å€™aå¯èƒ½æœªè¢«èµ‹å€¼ï¼Œä¸º0å€¼ã€‚<br>
è€Œä½¿ç”¨finalä¿®é¥°çš„å˜é‡å¯ä»¥ç¡®ä¿ï¼š<strong>åœ¨å¯¹è±¡å¼•ç”¨ä¸ºä»»æ„çº¿ç¨‹å¯è§ä¹‹å‰ï¼Œå¯¹è±¡çš„finalåŸŸå·²ç»è¢«æ­£ç¡®åœ°åˆå§‹åŒ–è¿‡äº†ï¼Œè€Œæ™®é€šåŸŸæ— æ³•ä¿è¯ã€‚</strong></p>
<h4 id="è¯»finalåŸŸé‡æ’åºè§„åˆ™-finalä¸ºåŸºæœ¬å˜é‡">è¯»finalåŸŸé‡æ’åºè§„åˆ™(finalä¸ºåŸºæœ¬å˜é‡)</h4>
<p>åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ï¼Œåˆæ¬¡è¯»å¯¹è±¡å¼•ç”¨å’Œåˆæ¬¡è¯»è¯¥å¯¹è±¡åŒ…å«çš„finalåŸŸï¼ŒJMM ä¼šç¦æ­¢è¿™ä¸¤ä¸ªæ“ä½œçš„é‡æ’åºï¼Œå¤„ç†å™¨åœ¨è¯»finalåŸŸæ“ä½œä¹‹å‰æ’å…¥ä¸€ä¸ª<strong>LoadLoadå±éšœ</strong>ã€‚å¯¹ä¸Šè¿°çš„ä»£ç ï¼Œæœ‰ä¸€ç§å¯èƒ½çš„æƒ…å†µæ˜¯ï¼šå…ˆè¯»aå˜é‡ï¼Œå†è¯»xå˜é‡ï¼Œå†è¯»bå˜é‡ã€‚å¯¹æ™®é€šåŸŸè€Œè¨€ï¼Œè¿™æ ·å°±æ˜¯é”™è¯¯çš„æƒ…å†µ(äº§ç”Ÿç©ºæŒ‡é’ˆ)ã€‚ä½†ç”±äºfinalåŸŸçš„è¯»å’Œå¯¹è±¡å¼•ç”¨çš„è¯»ä¸ä¼šå‘ç”Ÿé‡æ’åºï¼Œæ‰€ä»¥ä¸ä¼šå‡ºç°é—®é¢˜ã€‚ä¹Ÿå°±æ˜¯å¯ä»¥ç¡®ä¿ï¼š<strong>åœ¨è¯»ä¸€ä¸ªå¯¹è±¡çš„finalåŸŸä¹‹å‰ï¼Œä¼šå…ˆè¯»åŒ…å«è¿™ä¸ªfinalåŸŸçš„å¯¹è±¡çš„å¼•ç”¨</strong></p>
<h4 id="å¯¹finalä¿®é¥°çš„å¯¹è±¡çš„æˆå‘˜åŸŸè¿›è¡Œå†™æ“ä½œ-finalåŸŸä¸ºå¼•ç”¨ç±»å‹">å¯¹finalä¿®é¥°çš„å¯¹è±¡çš„æˆå‘˜åŸŸè¿›è¡Œå†™æ“ä½œ(finalåŸŸä¸ºå¼•ç”¨ç±»å‹)</h4>
<p><strong>åœ¨æ„é€ å‡½æ•°å†…å¯¹ä¸€ä¸ªfinalä¿®é¥°çš„å¯¹è±¡çš„æˆå‘˜åŸŸçš„å†™å…¥ï¼Œä¸éšååœ¨åœ¨æ„é€ å‡½æ•°ä¹‹å¤–æŠŠè¿™ä¸ªè¢«æ„é€ çš„å¯¹è±¡çš„å¼•ç”¨èµ‹ç»™ä¸€ä¸ªå¼•ç”¨å˜é‡</strong>ï¼Œè¿™ä¸¤ä¸ªæ“ä½œä¸Šä¸èƒ½è¢«é‡æ’åº</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FinalReferenceDemo</span> <span class="token punctuation">&#123;</span>
  <span class="token keyword">final</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrays<span class="token punctuation">;</span>
  <span class="token keyword">private</span> <span class="token class-name">FinalReferenceDemo</span> finalReferenceDemo<span class="token punctuation">;</span>

  <span class="token keyword">public</span> <span class="token class-name">FinalReferenceDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      arrays <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//1</span>
      arrays<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>        <span class="token comment">//2</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writerOne</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      finalReferenceDemo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FinalReferenceDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//3</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writerTwo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      arrays<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>  <span class="token comment">//4</span>
  <span class="token punctuation">&#125;</span>

  <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>finalReferenceDemo <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//5</span>
          <span class="token keyword">int</span> temp <span class="token operator">=</span> finalReferenceDemo<span class="token punctuation">.</span>arrays<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>  <span class="token comment">//6</span>
      <span class="token punctuation">&#125;</span>
  <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
<p><img src="https://s401177923-1302493622.cos.ap-nanjing.myqcloud.com/mdImages/image-20230305170110555.png" srcset="/img/loading.gif" lazyload alt=""></p>
<h4 id="å¯¹finalä¿®é¥°çš„å¯¹è±¡çš„æˆå‘˜åŸŸçš„è¯»æ“ä½œ">å¯¹finalä¿®é¥°çš„å¯¹è±¡çš„æˆå‘˜åŸŸçš„è¯»æ“ä½œ</h4>
<p>JMMå¯ä»¥ç¡®ä¿çº¿ç¨‹Cè‡³å°‘èƒ½çœ‹åˆ°å†™çº¿ç¨‹Aå¯¹finalå¼•ç”¨çš„å¯¹è±¡çš„æˆå‘˜åŸŸçš„å†™å…¥ï¼Œå³èƒ½çœ‹ä¸‹arrays[0] = 1ï¼Œè€Œå†™çº¿ç¨‹Bå¯¹æ•°ç»„å…ƒç´ çš„å†™å…¥å¯èƒ½çœ‹åˆ°å¯èƒ½çœ‹ä¸åˆ°ã€‚JMMä¸ä¿è¯çº¿ç¨‹Bçš„å†™å…¥å¯¹çº¿ç¨‹Cå¯è§ï¼Œçº¿ç¨‹Bå’Œçº¿ç¨‹Cä¹‹é—´å­˜åœ¨æ•°æ®ç«äº‰ï¼Œæ­¤æ—¶çš„ç»“æœæ˜¯ä¸å¯é¢„çŸ¥çš„ã€‚å¦‚æœå¯è§çš„ï¼Œå¯ä½¿ç”¨é”æˆ–è€…volatileã€‚(ä¸æ˜¯å¾ˆæœ‰å°è±¡)</p>
<h3 id="finalå¼•ç”¨ä»æ„é€ å‡½æ•°ä¸­æº¢å‡º">finalå¼•ç”¨ä»æ„é€ å‡½æ•°ä¸­æº¢å‡º</h3>
<p>è€ƒè™‘ä»¥ä¸‹ä»£ç </p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">FinalReferenceEscapeDemo</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token keyword">int</span> a<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">FinalReferenceEscapeDemo</span> referenceDemo<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">FinalReferenceEscapeDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        a <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>  <span class="token comment">//1</span>
        referenceDemo <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> <span class="token comment">//2</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">writer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">new</span> <span class="token class-name">FinalReferenceEscapeDemo</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">reader</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>referenceDemo <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>  <span class="token comment">//3</span>
            <span class="token keyword">int</span> temp <span class="token operator">=</span> referenceDemo<span class="token punctuation">.</span>a<span class="token punctuation">;</span> <span class="token comment">//4</span>
        <span class="token punctuation">&#125;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token comment">// åŸæ–‡é“¾æ¥ï¼šhttps://pdai.tech/md/java/thread/java-thread-x-key-final.html</span></code></pre></div>
<p>æ­¤æ—¶å¦‚æœçº¿ç¨‹Aå¼€å§‹æ‰§è¡Œwriteræ–¹æ³•ç„¶åæ‰§è¡Œæ„é€ å‡½æ•°, ç”±äºæ„é€ æ–¹æ³•ä¸­ä¸å­˜åœ¨æ•°æ®ä¸€è‡´æ€§ï¼Œæ‰€ä»¥1æ“ä½œå¯èƒ½åœ¨2æ“ä½œä¹‹åï¼Œé‚£åœ¨2æ“ä½œæ‰§è¡Œå®Œæ¯•ä¸”1æ“ä½œè¿˜æœªæ‰§è¡Œçš„æ—¶å€™ ï¼Œè¿™æ—¶å€™çº¿ç¨‹Bæ‰§è¡Œreaderæ–¹æ³•(æ­¤æ—¶thiså¼•ç”¨æº¢å‡ºï¼Œå¯¹è±¡è¿˜æœªæ„é€ å®Œå…¨åå°±æœªå…¶ä»–çº¿ç¨‹å¯è§)ï¼Œæ£€æµ‹referenceDemoå¯¹è±¡ä¸ä¸ºç©ºï¼Œç„¶åè®¿é—®å…¶finalæˆå‘˜ï¼Œç»“æœå´ä¸º0ï¼Œè¿™å°±å‡ºç°äº†é—®é¢˜ã€‚åœ¨æ„é€ å‡½æ•°è¿”å›å‰ï¼Œè¢«æ„é€ å¯¹è±¡çš„å¼•ç”¨ä¸èƒ½è¢«å…¶ä»–çº¿ç¨‹çœ‹è§ï¼Œå› ä¸ºæ­¤æ—¶çš„finalåŸŸå¯èƒ½è¿˜æ²¡æœ‰è¢«åˆå§‹åŒ–ã€‚</p>
<h2 id="å®ç°Serlizableæ¥å£çš„ç±»ä¸­UIDæ˜¯å•¥ï¼Ÿ">å®ç°Serlizableæ¥å£çš„ç±»ä¸­UIDæ˜¯å•¥ï¼Ÿ</h2>
<p>javaåºåˆ—åŒ–æœºåˆ¶ã€‚ç®€å•æ¥è¯´ï¼ŒJAVAåºåˆ—åŒ–çš„æœºåˆ¶æ˜¯é€šè¿‡ åˆ¤æ–­ç±»çš„serialVersionUIDæ¥éªŒè¯çš„ç‰ˆæœ¬ä¸€è‡´çš„ã€‚åœ¨è¿›è¡Œååºåˆ—åŒ–æ—¶ï¼ŒJVMä¼šæŠŠä¼ æ¥çš„å­—èŠ‚æµä¸­çš„serialVersionUIDäºæœ¬åœ°ç›¸åº”å®ä½“ç±»çš„serialVersionUIDè¿›è¡Œæ¯”è¾ƒã€‚å¦‚æœç›¸åŒè¯´æ˜æ˜¯ä¸€è‡´çš„ï¼Œå¯ä»¥è¿›è¡Œååºåˆ—åŒ–ï¼Œå¦åˆ™ä¼šå‡ºç°ååºåˆ—åŒ–ç‰ˆæœ¬ä¸€è‡´çš„å¼‚å¸¸ï¼Œå³æ˜¯InvalidCastException</p>
<p>æ˜¾ç¤ºå£°æ˜serialVersionUIDå¯ä»¥é¿å…å¯¹è±¡ä¸ä¸€è‡´ï¼Œ</p>
<h2 id="equals-å’Œ-hascodeæ–¹æ³•">equals å’Œ hascodeæ–¹æ³•</h2>
<h3 id="ä¸ºä»€ä¹ˆè¦é‡å†™">ä¸ºä»€ä¹ˆè¦é‡å†™</h3>
<p>å…¬å¼ï¼š</p>
<p>hashcodeç›¸ç­‰æ—¶å†…å®¹ä¸ä¸€å®šç›¸ç­‰</p>
<p>equalsç›¸ç­‰æ—¶hashcodeå¿…é¡»ç›¸ç­‰</p>
<p>hashmap å­˜å…¥è‡ªå®šä¹‰ç±»æ—¶å¼•å‘çš„é—®é¢˜</p>
<p>æƒ³ç”¨è¡¨é¢ä¸€æ ·çš„ä¸¤æŠŠé’¥åŒ™å»å¼€åŒä¸€æ‰‡é—¨çš„é—®é¢˜</p>
<h3 id="hashcodeæ–¹æ³•å¦‚ä½•é‡å†™">hashcodeæ–¹æ³•å¦‚ä½•é‡å†™</h3>
<p>åˆ°åº•è¦æ¯”è¾ƒä»€ä¹ˆå±æ€§æˆ–è€…å¯¹è±¡</p>
<h3 id="equalsæ–¹æ³•å¦‚ä½•é‡å†™">equalsæ–¹æ³•å¦‚ä½•é‡å†™</h3>
<p>hashå€¼ç›¸åŒæ—¶ï¼Œç”±äºä½  hashmapåˆ¤æ–­é“¾è¡¨æ—¶ï¼Œhashå€¼ä¼šç”¨equals æ–¹æ³•æ¯”è¾ƒä¸¤ä¸ªå¯¹è±¡ï¼Œ æ‰€ä»¥å¦‚æœè¦å¼€é”ï¼Œè¿™é‡Œå°±éœ€è¦é‡å†™equalsæ–¹æ³•</p>
<p>Objectç±»åŸç”Ÿçš„equalsæ–¹æ³•å°±æ˜¯åˆ¤æ–­åœ°å€ï¼Œæ‰€ä»¥è¿™é‡Œéœ€è¦é‡å†™</p>
<h3 id="Stringç±»çš„equals">Stringç±»çš„equals</h3>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">this</span> <span class="token operator">==</span> anObject<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">//å†…å­˜åœ°å€ç›¸ç­‰</span>
    <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>anObject <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">String</span> anotherString <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">)</span>anObject<span class="token punctuation">;</span>
    <span class="token keyword">int</span> n <span class="token operator">=</span> value<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>n <span class="token operator">==</span> anotherString<span class="token punctuation">.</span>value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">//æ¯”è¾ƒå­—ç¬¦ä¸²é•¿åº¦</span>
        <span class="token keyword">char</span> v1<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
        <span class="token keyword">char</span> v2<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">=</span> anotherString<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
        <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>n<span class="token operator">--</span> <span class="token operator">!=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token comment">//é€ä¸€æ¯”è¾ƒå­—ç¬¦</span>
            <span class="token keyword">if</span> <span class="token punctuation">(</span>v1<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">!=</span> v2<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
                <span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
            i<span class="token operator">++</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span>
<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span></code></pre></div>
<h2 id="AbstrackStringBuilder">AbstrackStringBuilder</h2>
<p>æ„æˆ</p>
<p>char[] value , int count</p>
<h3 id="StringBuilder">StringBuilder</h3>
<p>static final long serialVersionUID = 4383685877147921099L;</p>
<p>åŒºåˆ† length() å’Œ capacity()</p>
<ul>
<li>
<p>capacityå¤§å°å¹¶ä¸æ˜¯2çš„å¹‚æ¬¡æ–¹</p>
</li>
<li>
<p>é»˜è®¤16é•¿åº¦ï¼Œåappendå¤šå°‘ï¼Œå°±åŠ å¤šå°‘ 16 æ˜¯é»˜è®¤é¢„ç•™çš„è¾“å…¥é•¿åº¦é—´éš”ï¼Œè¶…è¿‡16åˆ™å¼•èµ·æ‰©å®¹</p>
</li>
<li>
<p>å®¹é‡åˆ¤æ–­  ensureCapacityInternal(int minimumCapacity)</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">void</span> <span class="token function">ensureCapacityInternal</span><span class="token punctuation">(</span><span class="token keyword">int</span> minimumCapacity<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// mini--- all words</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>minimumCapacity <span class="token operator">-</span> value<span class="token punctuation">.</span>length <span class="token operator">></span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        value <span class="token operator">=</span> <span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">copyOf</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span>
                <span class="token function">newCapacity</span><span class="token punctuation">(</span>minimumCapacity<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
</li>
<li>
<p>æ‰©å®¹æœºåˆ¶</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">newCapacity</span><span class="token punctuation">(</span><span class="token keyword">int</span> minCapacity<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token comment">// why add 2 ?</span>
    <span class="token comment">//è¿™é‡Œä¹Ÿå°±è¯´æ˜äº†ä¸ºä»€ä¹ˆcapacityä¸ºä»€ä¹ˆä¸æ˜¯2çš„å¹‚æ¬¡æ–¹çš„é—®é¢˜äº†</span>
    <span class="token keyword">int</span> newCapacity <span class="token operator">=</span> <span class="token punctuation">(</span>value<span class="token punctuation">.</span>length <span class="token operator">&lt;&lt;</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">2</span><span class="token punctuation">;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>newCapacity <span class="token operator">-</span> minCapacity <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        newCapacity <span class="token operator">=</span> minCapacity<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>newCapacity <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> MAX_ARRAY_SIZE <span class="token operator">-</span> newCapacity <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span>
        <span class="token operator">?</span> <span class="token function">hugeCapacity</span><span class="token punctuation">(</span>minCapacity<span class="token punctuation">)</span>
        <span class="token operator">:</span> newCapacity<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span>

<span class="token keyword">private</span> <span class="token keyword">int</span> <span class="token function">hugeCapacity</span><span class="token punctuation">(</span><span class="token keyword">int</span> minCapacity<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE <span class="token operator">-</span> minCapacity <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span> <span class="token comment">// overflow</span>
        <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">OutOfMemoryError</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
    <span class="token keyword">return</span> <span class="token punctuation">(</span>minCapacity <span class="token operator">></span> MAX_ARRAY_SIZE<span class="token punctuation">)</span>
        <span class="token operator">?</span> minCapacity <span class="token operator">:</span> MAX_ARRAY_SIZE<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
</li>
<li>
<p>æ ¸å¿ƒæ·»åŠ æ–¹æ³•</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token comment">//String ç±»ä¸‹çš„</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">getChars</span><span class="token punctuation">(</span><span class="token keyword">int</span> srcBegin<span class="token punctuation">,</span> <span class="token keyword">int</span> srcEnd<span class="token punctuation">,</span> <span class="token keyword">char</span> dst<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">int</span> dstBegin<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcBegin <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcBegin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcEnd <span class="token operator">></span> value<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcEnd<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>srcBegin <span class="token operator">></span> srcEnd<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">StringIndexOutOfBoundsException</span><span class="token punctuation">(</span>srcEnd <span class="token operator">-</span> srcBegin<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">&#125;</span>
    <span class="token comment">//æ ¸å¿ƒ</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span><span class="token function">arraycopy</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> srcBegin<span class="token punctuation">,</span> dst<span class="token punctuation">,</span> dstBegin<span class="token punctuation">,</span> srcEnd <span class="token operator">-</span> srcBegin<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span></code></pre></div>
</li>
</ul>
<p>è¿½é—®ï¼Ÿ æœ‰äº†è§£è¿‡åº•å±‚çš„arraycopyæ–¹æ³•å—ï¼Ÿ</p>
<h3 id="StringBuffer">StringBuffer</h3>
<p>ç»“æ„ï¼š transient char[]  toStringCache , static final long serialVersionUId</p>
<h4 id="ä¸ºä½•æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ">ä¸ºä½•æ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Ÿ</h4>
<p>ä½¿ç”¨synchronized</p>
<h2 id="æ¥å£ã€ç»§æ‰¿ã€æ³›å‹">æ¥å£ã€ç»§æ‰¿ã€æ³›å‹</h2>
<p>å¦‚ä½•çœ‹å¾…æ¥å£å’ŒæŠ½è±¡ç±»ï¼Ÿ</p>
<p>ä½ æ€ä¹ˆç†è§£æ³›å‹ï¼Ÿæœ‰ä»€ä¹ˆä½œç”¨ï¼Ÿ</p>
<h3 id="å‘ä¸‹è½¬å‹å’Œå‘ä¸Šè½¬å‹">å‘ä¸‹è½¬å‹å’Œå‘ä¸Šè½¬å‹</h3>
<p>å°†æ•´ä¸ªç»§æ‰¿å…³ç³»æƒ³åƒæˆç”±ä¸Šè‡³ä¸‹</p>
<p>å‘ä¸Šè½¬å‹   å­è½¬çˆ¶ï¼ˆåŒ…æ‹¬æ¥å£ï¼‰ ä¸¢å¤±æ–¹æ³•</p>
<p>å‘ä¸‹è½¬å‹   çˆ¶è½¬å­   é‡æ–°è·å¾—å¤±å»çš„æ–¹æ³•</p>
<p>è”æƒ³ ï¼šAndroidä¸­findViewByIdä¸­å°±æ˜¯éœ€è¦å‘ä¸‹è½¬å‹</p>
<h3 id="è‡ªåŠ¨æ‹†ç®±å’Œè£…ç®±">è‡ªåŠ¨æ‹†ç®±å’Œè£…ç®±</h3>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Integer</span> a <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span>
<span class="token class-name">Integer</span> b <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>a <span class="token operator">==</span> b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//false </span>
<span class="token comment">//å­—èŠ‚ç  æ¯”è¾ƒæ—¶æ¶‰åŠåˆ°intValueæ–¹æ³•</span>
<span class="token comment">//newæ—¶æ¶‰åŠvalueOfæ–¹æ³•</span></code></pre></div>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">intValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">return</span> value<span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token class-name">Integer</span> <span class="token function">valueOf</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">>=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low <span class="token operator">&amp;&amp;</span> i <span class="token operator">&lt;=</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high<span class="token punctuation">)</span>
        <span class="token keyword">return</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>cache<span class="token punctuation">[</span>i <span class="token operator">+</span> <span class="token punctuation">(</span><span class="token operator">-</span><span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>low<span class="token punctuation">)</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">IntegerCache</span> <span class="token punctuation">&#123;</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> low <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">128</span><span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token keyword">int</span> high<span class="token punctuation">;</span>
    <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">Integer</span> cache<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token punctuation">&#123;</span>
        <span class="token comment">// high value may be configured by property</span>
        <span class="token keyword">int</span> h <span class="token operator">=</span> <span class="token number">127</span><span class="token punctuation">;</span>
        <span class="token class-name">String</span> integerCacheHighPropValue <span class="token operator">=</span>
            sun<span class="token punctuation">.</span>misc<span class="token punctuation">.</span>VM<span class="token punctuation">.</span><span class="token function">getSavedProperty</span><span class="token punctuation">(</span><span class="token string">"java.lang.Integer.IntegerCache.high"</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">//å¯ä»¥è‡ªè¡Œè®¾ç½®maxçš„æœ€å¤§å€¼</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>integerCacheHighPropValue <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
            <span class="token keyword">try</span> <span class="token punctuation">&#123;</span>
                <span class="token keyword">int</span> i <span class="token operator">=</span> <span class="token function">parseInt</span><span class="token punctuation">(</span>integerCacheHighPropValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
                i <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token number">127</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
                <span class="token comment">// Maximum array size is Integer.MAX_VALUE</span>
                h <span class="token operator">=</span> <span class="token class-name">Math</span><span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>i<span class="token punctuation">,</span> <span class="token class-name">Integer</span><span class="token punctuation">.</span>MAX_VALUE <span class="token operator">-</span> <span class="token punctuation">(</span><span class="token operator">-</span>low<span class="token punctuation">)</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token punctuation">&#125;</span> <span class="token keyword">catch</span><span class="token punctuation">(</span> <span class="token class-name">NumberFormatException</span> nfe<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
                <span class="token comment">// If the property cannot be parsed into an int, ignore it.</span>
            <span class="token punctuation">&#125;</span>
        <span class="token punctuation">&#125;</span>
        high <span class="token operator">=</span> h<span class="token punctuation">;</span>

        cache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">[</span><span class="token punctuation">(</span>high <span class="token operator">-</span> low<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token keyword">int</span> j <span class="token operator">=</span> low<span class="token punctuation">;</span>
        <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> k <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> k <span class="token operator">&lt;</span> cache<span class="token punctuation">.</span>length<span class="token punctuation">;</span> k<span class="token operator">++</span><span class="token punctuation">)</span>
            cache<span class="token punctuation">[</span>k<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Integer</span><span class="token punctuation">(</span>j<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token comment">// range [-128, 127] must be interned (JLS7 5.1.7)</span>
        <span class="token keyword">assert</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">.</span>high <span class="token operator">>=</span> <span class="token number">127</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">private</span> <span class="token class-name">IntegerCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span><span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
<p>æ¶‰åŠåˆ°çš„é™æ€å†…éƒ¨ç±»çš„çŸ¥è¯†</p>
<p>é™æ€å†…éƒ¨ç±»åªä¼šåœ¨ä½¿ç”¨åˆ°è¯¥å†…éƒ¨ç±»æ—¶æ‰ä¼šåŠ è½½ï¼Œå¦åˆ™æ˜¯ä¸ä¼šåŠ è½½çš„ï¼Œä¹Ÿå°±æ˜¯åªæœ‰ä½¿ç”¨åˆ°new Integerçš„valueOfæ–¹æ³•æ—¶ï¼Œæ‰ä¼šåŠ è½½è¯¥å†…éƒ¨ç±»</p>
<h3 id="CAS-v3">CAS</h3>
<p><strong>åŸç†</strong></p>
<p>è‹¥ï¼šå†…å­˜ä½ç½®çš„å€¼ == é¢„æœŸåŸå€¼ -&gt; åˆ™èµ‹äºˆæ–°å€¼ã€‚é€šè¿‡whileå¾ªç¯å®Œæˆã€‚</p>
<p>ä¼˜ç‚¹ï¼šä¸ç”¨è¿›è¡Œç”¨æˆ·æ€ å†…æ ¸æ€çš„åˆ‡æ¢</p>
<p>ç¼ºç‚¹ï¼šè‡ªæ—‹æ—¶é—´ä¸ç¡®å®š</p>
<p>å¢åŠ ç‰ˆæœ¬æ§åˆ¶ï¼š AtomicStampedReferenceï¼Œä¸ä½†ä¼šåˆ¤æ–­åŸå€¼ï¼Œè¿˜ä¼šæ¯”è¾ƒç‰ˆæœ¬ä¿¡æ¯</p>
<h2 id="æ³›å‹">æ³›å‹</h2>
<p><strong>ä¸ºä»€ä¹ˆæˆ‘ä»¬éœ€è¦æ³›å‹ï¼Ÿ</strong></p>
<p>æ²¡æœ‰æ³›å‹ä¹‹å‰æˆ‘ä»¬æ˜¯æ€ä¹ˆåšåˆ°ï¼Ÿæˆ‘ä»¬å¯ä»¥é€šè¿‡Objectå­˜å‚¨ä»»æ„çš„å¯¹è±¡ï¼Œç„¶åä½¿ç”¨æ—¶å†å¼ºè½¬æˆå¯¹åº”çš„ç±»å‹å°±è¡Œäº†ï¼ˆä½†å¦‚æœæˆ‘ä»¬ä¸æ¸…æ¥šå¯¹è±¡çš„ç±»å‹ï¼Œé‚£ä¹ˆåœ¨è½¬æ¢æ—¶å°±kennelå‡ºç°ClassCast Exceptionï¼‰</p>
<p>Javaæ³›å‹Genericsæ˜¯JDK5ä¸­å¼•å…¥çš„æ–°ç‰¹æ€§ï¼Œ<strong>æä¾›äº†ç¼–è¯‘æ—¶ç±»å‹å®‰å…¨æ£€æµ‹æœºåˆ¶</strong>ï¼Œå…è®¸æˆ‘ä»¬åœ¨<strong>ç¼–è¯‘æ—¶</strong>æ£€æµ‹éæ³•çš„ç±»å‹æ•°æ®ç»“æ„ã€‚<strong>æ³›å‹çš„æœ¬è´¨å°±æ˜¯å‚æ•°åŒ–ç±»å‹</strong>ï¼Œå³æ‰€æ“ä½œçš„æ•°æ®ç±»å‹è¢«æŒ‡å®šä¸ºä¸€ä¸ªå‚æ•°ã€‚<strong>ä¿è¯äº†ç±»å‹å®‰å…¨ï¼Œå¹¶æ¶ˆé™¤äº†å¼ºåˆ¶ç±»å‹çš„è½¬æ¢</strong></p>
<p>å¸¸ç”¨æ³›å‹æ ‡è¯† T E K Vï¼Œ<strong>æ³›å‹ç±»ä¸æ”¯æŒåŸºæœ¬æ•°æ®ç±»å‹</strong>ã€‚ä¸ºä»€ä¹ˆï¼Ÿ</p>
<h3 id="æ³›å‹ç±»">æ³›å‹ç±»</h3>
<p>åœ¨å®ä¾‹åŒ–ç±»çš„æ—¶å€™æŒ‡æ˜æ³›å‹çš„å…·ä½“ç±»å‹ã€‚æ³›å‹ç±»å¯ä»¥æœ‰å¤šä¸ªæ³›å‹æ ‡è¯†ï¼Œä¸ä¸€å®šæ˜¯1ä¸ªæˆ–2ä¸ª</p>
<p>åŒä¸€æ³›å‹ç±»ï¼Œæ ¹æ®ä¸åŒçš„æ•°æ®ç±»å‹åˆ›å»ºå¯¹è±¡ï¼Œæœ¬è´¨ä¸Šè¿˜æ˜¯åŒä¸€ä¸ªç±»å‹ï¼ˆgetClass()ç›¸ç­‰ï¼‰</p>
<p><strong>æ³›å‹é€šé…ç¬¦</strong>ï¼šç”¨ï¼Ÿä»£æ›¿å…·ä½“ç±»å‹çš„å®é™…å‚æ•°ï¼Œæ‰€ä»¥ç±»å‹é€šé…ç¬¦æ˜¯ç±»å‹å® 	å‚è€Œä¸æ˜¯ç±»å‹å‹å‚ã€‚é€šå¸¸ç»“åˆä¸Šä¸‹é™æ¥é™åˆ¶æ³›å‹çš„å®ç°ç±»å‹</p>
<p><strong>ç±»å‹é€šé…ç¬¦çš„ä¸Šé™ï¼š &lt;? extends XXXClass&gt;</strong></p>
<p>**ç±»å‹é€šé…ç¬¦çš„ä¸‹é™ï¼š&lt;? super xxxx&gt; è¦æ±‚è¯¥æ³›å‹çš„ç±»å‹åªèƒ½æ˜¯å®å‚ç±»å‹æˆ–å®å‚ç±»å‹çš„çˆ¶ç±»å‹ï¼Œä¸‹é™ä¸åœ¨åˆ›å»ºæ³›å‹æ—¶ä½¿ç”¨ **</p>
<p><strong>æ³›å‹ç±»çš„ç»§æ‰¿</strong></p>
<p>çˆ¶ç±»æ˜¯æ³›å‹ç±»ï¼š</p>
<ul>
<li>å­ç±»æ˜¯æ³›å‹ç±»ï¼Œå­ç±»æ˜¯çˆ¶ç±»çš„æ³›å‹æ ‡è¯†è‡³å°‘è¦åŒ…å«çˆ¶ç±»çš„æ³›å‹æ ‡è¯†</li>
<li>å­ç±»ä¸æ˜¯æ³›å‹ç±»ï¼Œçˆ¶ç±»è¦æ˜ç¡®æ³›å‹çš„æ•°æ®ç±»å‹</li>
</ul>
<h3 id="æ³›å‹æ¥å£">æ³›å‹æ¥å£</h3>
<ul>
<li>å®ç°ç±»æ˜¯æ³›å‹ç±»ï¼Œåˆ™å®ç°äº†ç±»çš„æ³›å‹æ ‡è¯†è¦åŒ…å«æ¥å£çš„æ³›å‹æ ‡è¯†</li>
<li>å®ç°ç±»ä¸æ˜¯æ³›å‹ç±»ï¼Œå®ç°ç±»è¦æ˜ç¡®æ¥å£å®šä¹‰çš„æ³›å‹</li>
</ul>
<h3 id="æ³›å‹æ–¹æ³•">æ³›å‹æ–¹æ³•</h3>
<p>åœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™æŒ‡æ˜æ³›å‹çš„å…·ä½“ç±»å‹</p>
<p>è¯­æ³•ï¼š ä¿®é¥°ç¬¦  &lt;T, E, â€¦&gt; è¿”å›å€¼ç±»å‹ æ–¹æ³•å (è¡Œå‚åˆ—è¡¨){}</p>
<p>å…¶ä¸­&lt;&gt;æŒ‡æ˜äº†è¯¥æ–¹æ³•æ˜¯æ³›å‹æ–¹æ³•ï¼Œå¹¶æŒ‡å‡ºå…¶è¦ç”¨åˆ°çš„æ³›å‹æ ‡è¯†</p>
<h3 id="ç±»å‹æ“¦é™¤">ç±»å‹æ“¦é™¤</h3>
<p>æ³›å‹ä¿¡æ¯åªå­˜åœ¨äº<strong>ä»£ç ç¼–è¯‘</strong>é˜¶æ®µï¼Œè¿›å…¥JVMï¼ˆç”Ÿæˆå­—èŠ‚ç ï¼‰ä¹‹å‰ä¸æ³›å‹ç›¸å…³çš„ä¿¡æ¯ä¼šè¢«æ“¦é™¤æ‰</p>
<ul>
<li>æ— é™åˆ¶ç±»å‹æ“¦é™¤ï¼Œæ³›å‹æ ‡è¯†ç›´æ¥æ›¿æ¢ä¸º<strong>Object</strong>ï¼ˆå› ä¸ºæ²¡æœ‰è¿›è¡Œä¸Šä¸‹é™çš„é™åˆ¶ï¼‰</li>
<li>æœ‰é™åˆ¶ç±»å‹æ“¦é™¤ï¼Œ<code>&lt;T extends XXX&gt;</code>ï¼ŒæŒ‰ç…§ä¸Šé™ç±»å‹è¿›è¡Œç±»å‹æ“¦é™¤</li>
</ul>
<p>æ¡¥æ¥æ–¹æ³•ï¼Œåœ¨æ— æ³›å‹æ¡ä»¶ä¸‹ä¿è¯æ¥å£å’Œç±»çš„å¤±ä¿¡å…³ç³»</p>
<h3 id="æ³›å‹æ•°ç»„">æ³›å‹æ•°ç»„</h3>
<p>å¯ä»¥å£°æ˜å¸¦æ³›å‹çš„æ•°ç»„å¼•ç”¨ä½†ä¸èƒ½ç›´æ¥åˆ›å»ºå¸¦æ³›å‹çš„æ•°ç»„å¯¹è±¡</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrayLists <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<p>è¿™æ ·å°±æ˜¯é”™è¯¯çš„ï¼Œç¼–è¯‘æŠ¥é”™ <code>java: cannot create array with '&lt;&gt;'</code></p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">ArrayList</span><span class="token punctuation">[</span><span class="token punctuation">]</span> objects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrayLists <span class="token operator">=</span> objects<span class="token punctuation">;</span>

<span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Integer</span><span class="token punctuation">></span></span> objects1 <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
arrayLists<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> objects1<span class="token punctuation">;</span></code></pre></div>
<p>åœ¨è¾ƒè€ç‰ˆæœ¬ä¸­ï¼Œä»¥ä¸Šä»£ç å¯èƒ½ç¼–è¯‘ä¸ä¼šæŠ¥é”™ï¼Œä½†å®é™…è¿è¡Œè‹¥è¦ä½¿ç”¨åˆ°objects1ä¸­çš„å€¼æ—¶åˆ™ä¼šæŠ±æ•°æ®è½¬æ¢ç±»å‹çš„é”™ï¼Œä½†ç›®å‰è‡ªå·±çš„ideaä¼šæŠ±è¿™ä¸ªé”™ jdk 1.8 341</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">ArrayList</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">></span></span><span class="token punctuation">[</span><span class="token punctuation">]</span> arrayLists <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ArrayList</span><span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span><span class="token punctuation">;</span></code></pre></div>
<p>æ¯”è¾ƒç¨³å¦¥çš„æ–¹æ³•æ˜¯è¿™æ ·ï¼Œä¸è¦æŠŠåŸç”Ÿæ•°æ®ç±»å‹æš´éœ²ç»™å¤–é¢ï¼Œç›´æ¥ä½¿ç”¨å¸¦æœ‰æ³›å‹è§„å®šçš„æ•°ç»„æ³›å‹å¯¹è±¡ï¼Œè¿™æ ·å°±èƒ½é¿å…ä¸Šè¿°é”™è¯¯ï¼Œè¿™ä¹Ÿæ˜¯ä¸ºä»€ä¹ˆjavaä¸æ”¯æŒç›´æ¥åˆ›å»ºæ³›å‹æ•°ç»„çš„åŸå› </p>
<p><strong>é€šè¿‡åå°„åˆ›å»ºæ³›å‹æ•°ç»„</strong></p>
<p>ä¸èƒ½ç›´æ¥é€šè¿‡T[] data = new T[length]çš„æ–¹å¼åˆ›å»ºæ•°ç»„ï¼ˆå­—èŠ‚ç å±‚ï¼‰</p>
<p>ä¸ºä»€ä¹ˆä¸èƒ½é€šè¿‡ä¸Šè¿°æ–¹å¼åˆ›å»ºæ•°ç»„å‘¢ï¼Ÿ</p>
<p>è¿™é‡Œçš„æ ¸å¿ƒé—®é¢˜åº”è¯¥æ˜¯æ˜¯ T data = new T()æ— æ³•é€šè¿‡ç¼–è¯‘ï¼Œå› ä¸ºè‹¥æ²¡æœ‰ä¸Šä¸‹é™ï¼Œåˆ™ç±»å‹æ“¦é™¤æ—¶é»˜è®¤ä¸ºObjectï¼Œé‚£è¿™é‡Œä½ newçš„å°±æ˜¯ä¸€ä¸ªObjectäº†ã€‚å¯ä»¥é€šè¿‡åå°„çš„æ–¹å¼åˆ›å»º</p>
<p>è¡¥å……ï¼š</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> o <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token class-name">String</span> typeName <span class="token operator">=</span> o<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTypeName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>typeName<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// java.lang.String[]</span>
o<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">"123"</span><span class="token punctuation">;</span>
o<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// throw ArrayStoreException</span></code></pre></div>
<p>ç”±äºJavaçˆ¶å­ç±»å‹è½¬æ¢çš„é™åˆ¶ï¼Œå½“ç¬¬ä¸€è¡Œä»£ç è¿è¡Œåï¼Œoå¯¹è±¡å…¶å®ä¾¿æ˜¯String[]ç±»å‹è€ŒéObjectç±»å‹ï¼Œè¿è¡Œä¸Šè¿°ä»£ç ä¼šæŠ¥é”™ArrayStoreException</p>
<p>å¦‚ä½•é€šè¿‡æ³›å‹æ ‡è¯†åˆ›å»ºæ•°ç»„å‘¢ï¼Ÿä½¿ç”¨åå°„</p>
<div class="code-wrapper"><pre class="language-java" data-language="java"><code class="language-java"><span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">MyGenerics</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> <span class="token punctuation">&#123;</span>
    <span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> data<span class="token punctuation">;</span>

    <span class="token keyword">public</span> <span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        <span class="token keyword">return</span> data<span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>

    <span class="token keyword">public</span> <span class="token class-name">MyGenerics</span><span class="token punctuation">(</span><span class="token class-name">Class</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">></span></span> t<span class="token punctuation">,</span> <span class="token keyword">int</span> length<span class="token punctuation">)</span> <span class="token punctuation">&#123;</span>
        data <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">T</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token class-name">Array</span><span class="token punctuation">.</span><span class="token function">newInstance</span><span class="token punctuation">(</span>t<span class="token punctuation">,</span> length<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">&#125;</span>
<span class="token punctuation">&#125;</span></code></pre></div>
<h2 id="I-Oæ“ä½œ">I/Oæ“ä½œ</h2>
<h3 id="å¸¸è§å‡ å¤§è¾“å…¥è¾“å‡ºç±»">å¸¸è§å‡ å¤§è¾“å…¥è¾“å‡ºç±»</h3>
<h2 id="å¼‚å¸¸-v2">å¼‚å¸¸</h2>
<h3 id="Exceptionå’ŒErrorå…³ç³»">Exceptionå’ŒErrorå…³ç³»</h3>
<p><strong>Exceptionå’ŒErroréƒ½å¯ä»¥è¢«catchåˆ°</strong></p>
<p>ä½†ä¸åº”åœ¨ä»£ç ä¸­catch error</p>
<p><img src="https://s401177923-1302493622.cos.ap-nanjing.myqcloud.com/mdImages/image-20210428185332025.png" srcset="/img/loading.gif" lazyload alt="image-20210428185332025"></p>
<p>checkedException ï¼š ç¼–è¯‘æœŸå¼‚å¸¸ï¼Œæ˜“å¤„ç†ï¼Œæ˜“å‡ºé”™çš„</p>
<h2 id="é¢è¯•é—®é¢˜-v3">é¢è¯•é—®é¢˜</h2>
<p>ä¸ºä»€ä¹ˆ0.1+0.2= 0.30000000004</p>
<p>short s1 = 1; s1 = s1 + 1;</p>
<p>HashSetå†…éƒ¨å¦‚ä½•å®ç°ï¼Ÿä¸ºä»€ä¹ˆè¦é‡å†™hashcode å’Œ equalsæ–¹æ³•ï¼Ÿ</p>
<p>try catch ä¸­ return ä¼šæ€ä¹ˆæ ·ï¼Ÿ è°ƒç”¨system.exitå‘¢</p>
<p>ä¸ºä»€ä¹ˆä½œä¸ºæ–¹æ³•ä¼ å‚æ—¶ï¼ŒString æ˜¯ä¸å¯å˜ï¼Œä½†ä¾‹å¦‚è‡ªå®šä¹‰ç±»çš„å¼•ç”¨ // æ•°ç»„  æ˜¯å¯å˜çš„å‘¢</p>
<ul>
<li>åœ¨æˆ‘ä»¬è¿›è¡Œä¼ é€’æ—¶ä¸ç®¡æ˜¯å€¼ä¼ é€’è¿˜æ˜¯åœ°å€ä¼ é€’ä¼ é€’çš„éƒ½ä¼šcopyä¸€ä¸ªå‰¯æœ¬è¿›è¡Œä¼ é€’è€Œä¸æ˜¯â€˜åŸä»¶â€™ã€‚åœ¨å¼•ç”¨æ•°æ®ç±»å‹ä¸­ï¼Œå‰¯æœ¬ä¸åŸä»¶æŒ‡å‘åŒä¸€ä¸ªåœ°å€æ—¶æ”¹å˜åœ°å€å†…éƒ¨çš„å€¼åŸä»¶ä¼šå—åˆ°å½±å“ï¼Œä½†æ˜¯å¦‚æœæ”¹å˜äº†å‰¯æœ¬æŒ‡å‘çš„åœ°å€é‚£ä¹ˆå‰¯æœ¬çš„ä¸€åˆ‡å˜åŒ–äºåŸä»¶å°±æ²¡æœ‰å…³ç³»äº†ã€‚<br>
æ‰€ä»¥å½“ æ–¹æ³•ä¸­çš„så‘ç”Ÿæ”¹å˜æ—¶ç›¸å½“äºå°†å‰¯æœ¬æŒ‡å‘äº†æ–°çš„åœ°å€äºåŸä»¶è‡ªç„¶å°±æ²¡æœ‰å…³ç³»äº†ï¼Œæ–¹æ³•å¤–éƒ¨çš„sæ²¡æœ‰å˜åŒ–ä¹Ÿå°±è§£é‡Šçš„é€šäº†ã€‚</li>
</ul>
<p><strong>ä¸ºä»€ä¹ˆStringæ˜¯ä¸å¯å˜çš„</strong></p>
<p>å†…éƒ¨finalä¿®é¥° ï¼Œs1 = s2 æ˜¯å…è®¸çš„ï¼Œä»…æ”¹å˜æŒ‡å‘çš„å¼•ç”¨åœ°å€</p>
<p>æ˜¯å¦å¯ä»¥æ”¹å˜valueçš„å€¼ï¼Ÿ å¯ä»¥ï¼Œåå°„</p>
<p><strong>æŠ½è±¡ç±»å’Œæ¥å£çš„åŒºåˆ«</strong></p>
<p>æŠ½è±¡ç±» ä»£ç å¤ç”¨    ç›¸åŒçš„è¡Œä¸ºâ€¦</p>
<p>æ¥å£æ˜¯å¯¹ç±»çš„çº¦æŸï¼Œå¼ºåˆ¶è¦æ±‚ä¸åŒçš„ç±»æœ‰ç›¸åŒçš„è¡Œä¸º</p>
<p><strong>JDK 8æ–°ç‰¹æ€§</strong></p>
<p>**try catch returné—®é¢˜  **</p>
<p>å¦‚æœåœ¨tryã€catchä¸­ return  ,finally ä»å¯æ‰§è¡Œï¼Œä½†finallyåçš„è¯­å¥ä¸å¯æ‰§è¡Œ</p>

                                    </div>
                                    <hr>
                                    <div>
                                        <div class="post-metas mb-3">
                                            
                                                    
                                        </div>
                                        
                                            <p class="note note-warning">
                                                
                                                            æœ¬åšå®¢æ‰€æœ‰æ–‡ç« é™¤ç‰¹åˆ«å£°æ˜å¤–ï¼Œå‡é‡‡ç”¨ <a target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/deed.zh" rel="nofollow noopener noopener">CC BY-SA 4.0 åè®®</a> ï¼Œè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ï¼
                                                                
                                            </p>
                                            
                                                
                                                    <div class="post-prevnext">
                                                        <article class="post-prev col-6">
                                                            
                                                                
                                                                    <a href="/2022/07/30/Java8%E7%89%B9%E6%80%A7%E5%AD%A6%E4%B9%A0/">
                                                                        <i class="iconfont icon-arrowleft"></i>
                                                                        <span class="hidden-mobile">Java8ç‰¹æ€§å­¦ä¹ </span>
                                                                        <span class="visible-mobile">ä¸Šä¸€ç¯‡</span>
                                                                    </a>
                                                                    
                                                        </article>
                                                        <article class="post-next col-6">
                                                            
                                                                
                                                                    <a href="/2022/07/08/%E8%BD%AF%E5%B7%A5%E5%AE%9E%E8%AE%AD-%E5%9B%A2%E9%98%9FSSM%E9%A1%B9%E7%9B%AE%E6%80%BB%E7%BB%93/">
                                                                        <span class="hidden-mobile">Echo-è½¯å·¥å®è®­-å›¢é˜ŸSpringBooté¡¹ç›®æ€»ç»“</span>
                                                                        <span class="visible-mobile">ä¸‹ä¸€ç¯‡</span>
                                                                        <i class="iconfont icon-arrowright"></i>
                                                                    </a>
                                                                    
                                                        </article>
                                                    </div>
                                                    
                                    </div>

                                    
                                        <!-- Comments -->
                                        <article class="comments" id="comments" lazyload>
                                            
                                                        
                                                            
                                                                
  <script type="text/javascript">
    Fluid.utils.loadComments('#comments', function() {
      var light = 'github-light';
      var dark = 'dark-blue';
      var schema = document.documentElement.getAttribute('data-user-color-scheme');
      if (schema === 'dark') {
        schema = dark;
      } else {
        schema = light;
      }
      window.UtterancesThemeLight = light;
      window.UtterancesThemeDark = dark;
      var s = document.createElement('script');
      s.setAttribute('src', 'https://utteranc.es/client.js');
      s.setAttribute('repo', 'PPLong222/commit-utterances');
      s.setAttribute('issue-term', 'title');
      
      s.setAttribute('label', 'utterances');
      
      s.setAttribute('theme', schema);
      s.setAttribute('crossorigin', 'anonymous');
      document.getElementById('comments').appendChild(s);
    })
  </script>
  <noscript>Please enable JavaScript to view the comments</noscript>


                                        </article>
                                        
                        </article>
                    </div>
                </div>
            </div>
            
                <div class="d-none d-lg-block col-lg-2 toc-container" id="toc-ctn">
                    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;ç›®å½•</p>
  <div class="toc-body" id="toc-body"></div>
</div>

                </div>
                
        </div>
    </div>

    <!-- Custom -->
    
    <!--æ·»åŠ æˆ‘è‡ªå·±çš„è®¾ç½®é¡µé¢-->
    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">æœç´¢</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v"
                 for="local-search-input">å…³é”®è¯</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>
    

    
  </main>

  <footer class="text-center mt-5 py-3">
    <!--åŠ å…¥è‡ªå®šä¹‰æ ¼å¼çš„-->
    <!--è‡ªå®šä¹‰çš„gitå¾½æ ‡æ ·å¼-->
<img height="20" src="https://img.shields.io/badge/Source-Github-blue?logo=github&style=flat&logoColor=rgb(252,%2098,%2093)&color=blue" srcset="/img/loading.gif" lazyload>
<img height="20" src="https://img.shields.io/badge/Build-Hexo-blue?logo=hexo&style=flat&logoColor=rgb(14,%20131,%20205)&color=fc766a" srcset="/img/loading.gif" lazyload>
<img height="20" src="https://img.shields.io/badge/Build-Fluid-blue?logo=hexo&style=flat&logoColor=rgb(14,%20131,%20205)&color=f2c080" srcset="/img/loading.gif" lazyload>
<br>
<img height="20" src="https://img.shields.io/badge/èœ€ICPå¤‡-2022003192å·-blue?logo=data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAdCAYAAAC9pNwMAAABS2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS42LWMxNDIgNzkuMTYwOTI0LCAyMDE3LzA3LzEzLTAxOjA2OjM5ICAgICAgICAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIi8+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgo8P3hwYWNrZXQgZW5kPSJyIj8+nhxg7wAACNlJREFUSInF1mmMVeUdx/Hv2e+5+519mJWBYQZkGxZZxLKJqBXGoLS1iXWrmihotFXaJiTWWlsbl6q1aetWd5u0VkKjNG4YEJSlOCibDLMwM8x679z9nnPP1jcVJUxf+7z6J8+LT37/Z4VvaQhfFS8+sBXbctCDGrVTKlBUH4mxAbI9Hfj0IJLsp6paJ5/tmn20N/D0wKDRMq9F/c3M2U1/V0vDfWMFh+tv/Ig1zYPMabDImPJ52OaXO87W580KggCiiOsJOJ6I3wcNFaaeNKxrt72f2fLGu4FpJ/sDQABRzD22fH7/Yze069vGc6mrDLNIJCDik10sxz2by3VdPM87xzkP9jwPTZFRVI1YUJKH+oy7n3tbvv/P2wW/UQxRWe6w4ZJRptYLHDoCuz8v5cP92XbI762O+h6UVWHnUFbPpU0fEb2A60mMJ7MUi9b/b7UgKhiZMaIxm8YLplLMDPz8hl/EH+rs8TNlUpFf32uyZJGLPDwCiTGUyTWodTN49eUCdz2YwXb9NNcObp1X98WDoufynzMVCEKGn27ayPTWBi5ad8P5iQUkJEnFLjqM9Z+hrVX0vfDe6K2dPRWsW2bwyp9EUifSJB84gdxrkR0eRgv1o/3I4fbbprJ6scqamzVO9pffec1S5ZWY2Nfz5qEy/FqOC2Y3s3j53HMSi18VRjFPwSwg+1RfVbl115vvJrsfej7UGIsYPPGgQ7JXoO+Xx5B3dHEomyJ9x1qiQozkr95h5937aFnVyouPlgJK+Ss7Fxz64OTSxSX+LHYxT2IsRW5kbGI4oHcR0jqoqTjV9se3I7/f8rS/ClS23GxSXhph6L5d9Akm7qqZhHWBQGUJ+CWGFzcg7e7m6D3/ZuW1Ea5YKdA3EojuONi813TqNi+YPYOKUhXDtCeGL26/hakLLiEcdsaHRkRAoLRc4fJrmhnekyF0apgZowWSwwkaa+rw3f8WA1GZZsPP5JEChX8dhZTN6iU6kAcs5s+dHd183SJ0VVKL57pfw6YdRQw23aeWTns47DPTALWlRTR7kMLew6hGgYqUhWXYFFUdPZ6lUBahLA8hVcOftckfi7No7VRAAQqsX1dybfvG1qwriM9mM5mJ4e4jO5Cc01dPqixbr8tWGBQUL4vjGigEEShi+xUmZ2RiR/sJ1pbS8NkgZrKAGw0TsgQsQyFaF/nfYTGprAlMFysbA1pI3mhkR6snhGsaymYGvPyFEb9IdbUE2AzFFTwpRqCtBY0wmdER+hZW4j63gcJj38V+/ErSUZXsYBfjIZHIRW0c2Z8BskCAqN+CbBJBFnyyKjR+Ez57nBxLqpfMUeSISElMBFz6x2Q6OxzWrYjyxWVzEewioU3LCS5vQY6nMUrLwNaxXvoQ59IloFSx54PPAZtQLExVZZDxsVE8J4dn6v4JYatgbSjk0owPw7RGH2ADMo88Z7L20ip8f7gC7fAo0q4+0rt7kEQDvaghVZbiPHUHcyeXcfLjT3jmpR7AYsnSScya3UR8bARVMck7Y/cB75/X6rDf3Fg2dw2jKZm5dXGm1LuAzO5DCo9v6aT0ibco5kzOvLOP+NGTFJtDpPYeZKijk/Rn3QxsfZV7txwhX7ABiZUXBsGvIvguQApNQQva9RMmTvZ2dpVUls+tX/UD7GN/Y8Ws05w6rQF+9vyzg1vZjbvMRJhXiRSU8DpTFFe0QE8S6SfPkOkZoktrB2oAhZWrwljxOPmchiSMYOWNoxNuruFU5vWeXdsojiUon345113dBBQBmTYlTimgdB8nfPo4WjaNFgN9OMEkJ02dnadVt5ki54Esqy+bzKJltVhSPbI3iN2zCyMTeXNCuG7Omm2Zok7PR2+R7jvD8ouruHhmCrB5jVZeYxLdrTP4sr4Vtd9g4MA4qc4c+6cu5NPamfw4P59t2WrA4YdXKkASf7SFivo6PDdEPmf1fRM++zp1bH/0r4I1dD1ODtOWaW4IsvPjL7nqXhloQiSPwjjgMYkMASyGEBkjhISCQwkwzve/18AbT+pk8pVY4UacQi9y+gyZ0eRAw4qHa89LXEx1LXMSPfhDJYRb59BtlLKg2WPT2l6qYl1svtGkrLYckyA1S+t5+2ATm37WCui0LSynsckDNH5zTxAchbQtkx08hDHYiW6NgC0enHBzEZ102UDH8QORdEckjEzZrNWkRydzyx17uGnDXqbUnGZ6dRPjSY91q2TqwjFuvTxLo5Zn5Qo/pumRSFcTLQtybEhGE0fQrDhhJ0VvH2lTnnHPhGtsmWan469apERjI2MH3qN7+7MEfH6ql29CbV7PvsMG32k6yU2XDhEKyZw66eJaRdrXR7CzCcqUNC3zwgymPJRCH4KRRLINimpL14A5Y4GDeOqbsPRVcfuN7Xj44pav/hFfrNT2kr2rsqf2Ibp5pEA14ZIImUyW3t5REkkTXRGQ/DGGhtLginhqCWknQDE5hKf5UFSF9Lj020Q2ul5V1AR2hr+8vuP8Vlc2zMPRxoSjnx7XBC14sDoydahSGq7KdO/HFyrBchxCVfX4fDKp4T7SCQejYODZLrYgIqgKFsNIgQqEYob8mW6yiUyb7Z64LVK/+B85xznnJ3AWzqTzuIX46mr5wLs+UUTyIriBCjRNxguHMJIFDLEEvXEOVRWnSJ0+jCd4CJoGjoedM1CLcXQziW3nMV2TSMBeOx7vWZvPt1r+cMPzE8KunaUkFn0vNrvtqXj34c1W6gzxlEQ6naIoBahtnkMwoFMwIVzSRNguMt53Aj2s4nkSlgPoGqLkICsRNF0gl8rYWuP8+11/w/OOJDEhHPKLCIpOXmi+M9AgP+maiesLifF2T1Rn5ZNj5Lo/Qc/GcPMmhdoqlEgIGzCK4PiCmJKK68p4KfF3qYGuF0qCRUkJTzleUbvQyWRTuE5xYthxQbBs7EISAbkzUFG3VfXXbK2YFi3X/eryfKKnqVBItNjJxDzH8erddC4SqWwcN5WyTtlyO1RP/Lh3eHD76MB40swmiDVJyDLYRhpc5+ub6tse/wWKbvSQEAw1awAAAABJRU5ErkJggg==&style=flat&color=d2c68b" srcset="/img/loading.gif" lazyload>

<!-- è‡ªå®šä¹‰æ˜¾ç¤ºæ–‡ç« æ€»é¡µæ•°å’Œå­—æ•°çš„æ¨¡å— -->
<div class="bottom-post-statistic">
    <div class="bottom-post-count">
        63&nbsp ç¯‡æ–‡ç« 
    </div>
    <div class="bottom-post-word">
        267.8k&nbsp å­—
    </div>
</div>
        <div class="footer-content">
             <div style="font-size: 0.85rem"> <span id="timeDate">è½½å…¥å¤©æ•°...</span> <span id="times">è½½å…¥æ—¶åˆ†ç§’...</span> <script src="/js/duration.js"></script> </div> 
        </div>

        
  <div class="statistics">
    
    

    
      
        <!-- LeanCloud ç»Ÿè®¡PV -->
        <span id="leancloud-site-pv-container" style="display: none">
            æ€»è®¿é—®é‡ 
            <span id="leancloud-site-pv"></span>
             æ¬¡
          </span>
      
      
        <!-- LeanCloud ç»Ÿè®¡UV -->
        <span id="leancloud-site-uv-container" style="display: none">
            æ€»è®¿å®¢æ•° 
            <span id="leancloud-site-uv"></span>
             äºº
          </span>
      

    
  </div>


            

                
</footer>

  <!-- SCRIPTS -->
  
  <script  src="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://cdn.jsdelivr.net/npm/nprogress@0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js" ></script>
<script  src="https://cdn.jsdelivr.net/npm/bootstrap@4/dist/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>

<!-- Plugins -->


  <script  src="/js/local-search.js" ></script>



  
    <script  src="/js/img-lazyload.js" ></script>
  



  
    
  



  
    <script  src="https://cdn.jsdelivr.net/npm/tocbot@4/dist/tocbot.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3/dist/jquery.fancybox.min.js" ></script>
  
  
    <script  src="https://cdn.jsdelivr.net/npm/anchor-js@4/anchor.min.js" ></script>
  
  
    <script defer src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" ></script>
  




  <script defer src="/js/leancloud.js" ></script>



  <script  src="https://cdn.jsdelivr.net/npm/typed.js@2/lib/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var title = document.getElementById('subtitle').title;
      
      typing(title)
      
    })(window, document);
  </script>












  

  

  

  

  

  




  
<script src="/js/reset_code_lang.js"></script>



<!-- ä¸»é¢˜çš„å¯åŠ¨é¡¹ ä¿æŒåœ¨æœ€åº•éƒ¨ -->
<script  src="/js/boot.js" ></script>

  <!-- æš‚æ—¶å…ˆä¸å¼•å…¥è¯¥åŠŸèƒ½ -->
  <!-- å¼•å…¥JQuery -->
  <!-- <script src="https://cdn.jsdelivr.net/npm/jquery@3/dist/jquery.min.js"></script> -->
  <!-- å¼•å…¥è‡ªå®šä¹‰çš„é¡µé¢è®¿é—®å’Œipç»Ÿè®¡è„šæœ¬ -->
  <!-- <script src="/js/send_req_info.js"></script> --> -->
<!-- hexo injector body_end start -->
  <script data-pjax src="https://cdn.jsdelivr.net/gh/Zfour/hexo-github-calendar@1.21/hexo_githubcalendar.js"></script>
  <script data-pjax>
        function GithubCalendarConfig(){
            var git_githubapiurl ="https://python-github-calendar-api.vercel.app/api?PPLong222";
            var git_color =['#ebedf0', '#bef5cb', '#bef5cb', '#a9f5b4', '#85e89d', '#34d058', '#28a745', '#22863a', '#176f2c', '#165c26', '#144620'];
            var git_user ="PPLong222";
            var parent_div_git = document.getElementById('recent-posts');
            var git_div_html = '<div id="github-calendar" style="width:100%;height:auto;padding:10px;margin-bottom:20px"><div id="github_loading" style="width:10%;height:100%;margin:0 auto;margin-top:100px;;display: block"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink"  viewBox="0 0 50 50" style="enable-background:new 0 0 50 50" xml:space="preserve"><path fill="#d0d0d0" d="M25.251,6.461c-10.318,0-18.683,8.365-18.683,18.683h4.068c0-8.071,6.543-14.615,14.615-14.615V6.461z" transform="rotate(275.098 25 25)"><animateTransform attributeType="xml" attributeName="transform" type="rotate" from="0 25 25" to="360 25 25" dur="0.6s" repeatCount="indefinite"></animateTransform></path></svg></div><div id="github_container"></div></div>';
            if(parent_div_git && location.pathname =='/about/'){
                console.log('å·²æŒ‚è½½github calendar')
                // parent_div_git.innerHTML=git_div_html+parent_div_git.innerHTML // æ— æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
                parent_div_git.insertAdjacentHTML("afterbegin",git_div_html) // æœ‰æŠ¥é”™ï¼Œä½†ä¸å½±å“ä½¿ç”¨(æ”¯æŒpjaxè·³è½¬)
            };
            GithubCalendar(git_githubapiurl,git_color,git_user)
        }
        if(document.getElementById('recent-posts')){
            GithubCalendarConfig()
        }
    </script>
    <style>#github_container{min-height:200px}@media screen and (max-width:650px) {#github_container{background-image:;min-height:0px}}</style>
    <style>#github_container > .position-relative > .border{border:0!important}#github-calendar{position: relative;margin-top: -2rem;background-color: var(--board-bg-color);transition: background-color 0.2s ease-in-out;border-radius: 0.5rem;z-index: 3;-webkit-box-shadow: 0 12px 15px 0 rgb(0 0 0 / 24%), 0 17px 50px 0 rgb(0 0 0 / 19%);box-shadow: 0 12px 15px 0 rgb(0 0 0 / 24%), 0 17px 50px 0 rgb(0 0 0 / 19%);}</style><!-- hexo injector body_end end --></body>
</html>
